<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="React Native," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="æœ€è¿‘å¼€å§‹ç ”ç©¶react nativeï¼Œå‡†å¤‡å†™å‡ ç¯‡å…³äºreact nativeçš„æ–‡ç« ã€‚ä½œä¸ºä¸€ä¸ª JavaScript å¼€å‘è€…ï¼Œæˆ‘ä¹‹å‰ä»æ¥æ²¡æƒ³è¿‡ç”¨ JavaScript å¾ˆå®¹æ˜“åœ°å†™åŸç”Ÿç§»åŠ¨åº”ç”¨ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†å¦‚ PhoneGap ç­‰å·¥å…·ï¼Œä½†åœ¨åŸç”Ÿåº”ç”¨ä¸­å°è£…ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„åº”ç”¨è¿˜æœ‰è®¸å¤šéœ€è¦æ”¹è¿›çš„åœ°æ–¹ã€‚ ç°åœ¨è¿™ä¸€åˆ‡éƒ½æ”¹å˜äº†â€”â€” Facebook çš„ React å›¢é˜Ÿå‘å¸ƒäº† React Nativeã€‚å®ƒ">
<meta property="og:type" content="article">
<meta property="og:title" content="React Nativeç®€å•æ•™ç¨‹ğŸŒ¼">
<meta property="og:url" content="https://menggeniu.github.io/2016/04/25/24/index.html">
<meta property="og:site_name" content="NNNã®åšå®¢">
<meta property="og:description" content="æœ€è¿‘å¼€å§‹ç ”ç©¶react nativeï¼Œå‡†å¤‡å†™å‡ ç¯‡å…³äºreact nativeçš„æ–‡ç« ã€‚ä½œä¸ºä¸€ä¸ª JavaScript å¼€å‘è€…ï¼Œæˆ‘ä¹‹å‰ä»æ¥æ²¡æƒ³è¿‡ç”¨ JavaScript å¾ˆå®¹æ˜“åœ°å†™åŸç”Ÿç§»åŠ¨åº”ç”¨ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†å¦‚ PhoneGap ç­‰å·¥å…·ï¼Œä½†åœ¨åŸç”Ÿåº”ç”¨ä¸­å°è£…ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„åº”ç”¨è¿˜æœ‰è®¸å¤šéœ€è¦æ”¹è¿›çš„åœ°æ–¹ã€‚ ç°åœ¨è¿™ä¸€åˆ‡éƒ½æ”¹å˜äº†â€”â€” Facebook çš„ React å›¢é˜Ÿå‘å¸ƒäº† React Nativeã€‚å®ƒ">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120256_33H2.jpg">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120257_Ju7r.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120258_yw4N.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120258_ezqI.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120259_JAJg.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120259_Aiww.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120259_BD0O.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120300_zj6X.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120300_KWEJ.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120300_Q1RG.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120302_u6Ii.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120304_NI1m.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120304_W92q.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120304_kG1d.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120305_AIYQ.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120305_0oGb.png">
<meta property="og:image" content="http://static.oschina.net/uploads/img/201505/19120305_B0Mj.png">
<meta property="og:updated_time" content="2016-11-19T03:53:38.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="React Nativeç®€å•æ•™ç¨‹ğŸŒ¼">
<meta name="twitter:description" content="æœ€è¿‘å¼€å§‹ç ”ç©¶react nativeï¼Œå‡†å¤‡å†™å‡ ç¯‡å…³äºreact nativeçš„æ–‡ç« ã€‚ä½œä¸ºä¸€ä¸ª JavaScript å¼€å‘è€…ï¼Œæˆ‘ä¹‹å‰ä»æ¥æ²¡æƒ³è¿‡ç”¨ JavaScript å¾ˆå®¹æ˜“åœ°å†™åŸç”Ÿç§»åŠ¨åº”ç”¨ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†å¦‚ PhoneGap ç­‰å·¥å…·ï¼Œä½†åœ¨åŸç”Ÿåº”ç”¨ä¸­å°è£…ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„åº”ç”¨è¿˜æœ‰è®¸å¤šéœ€è¦æ”¹è¿›çš„åœ°æ–¹ã€‚ ç°åœ¨è¿™ä¸€åˆ‡éƒ½æ”¹å˜äº†â€”â€” Facebook çš„ React å›¢é˜Ÿå‘å¸ƒäº† React Nativeã€‚å®ƒ">
<meta name="twitter:image" content="http://static.oschina.net/uploads/img/201505/19120256_33H2.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://menggeniu.github.io/2016/04/25/24/"/>





  <title> React Nativeç®€å•æ•™ç¨‹ğŸŒ¼ | NNNã®åšå®¢ </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">NNNã®åšå®¢</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">ä¸–ä¸Šæ‰€æœ‰çš„ç›¸é‡éƒ½æ˜¯ä¹…åˆ«é‡é€¢</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://menggeniu.github.io/2016/04/25/24/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="menggeNIU">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="NNNã®åšå®¢">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="NNNã®åšå®¢" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                React Nativeç®€å•æ•™ç¨‹ğŸŒ¼
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-25T22:11:01+08:00">
                2016-04-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/04/25/24/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/25/24/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2016/04/25/24/" class="leancloud_visitors" data-flag-title="React Nativeç®€å•æ•™ç¨‹ğŸŒ¼">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•° </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h6 id="æœ€è¿‘å¼€å§‹ç ”ç©¶react-nativeï¼Œå‡†å¤‡å†™å‡ ç¯‡å…³äºreact-nativeçš„æ–‡ç« ã€‚"><a href="#æœ€è¿‘å¼€å§‹ç ”ç©¶react-nativeï¼Œå‡†å¤‡å†™å‡ ç¯‡å…³äºreact-nativeçš„æ–‡ç« ã€‚" class="headerlink" title="æœ€è¿‘å¼€å§‹ç ”ç©¶react nativeï¼Œå‡†å¤‡å†™å‡ ç¯‡å…³äºreact nativeçš„æ–‡ç« ã€‚"></a>æœ€è¿‘å¼€å§‹ç ”ç©¶react nativeï¼Œå‡†å¤‡å†™å‡ ç¯‡å…³äºreact nativeçš„æ–‡ç« ã€‚</h6><p>ä½œä¸ºä¸€ä¸ª JavaScript å¼€å‘è€…ï¼Œæˆ‘ä¹‹å‰ä»æ¥æ²¡æƒ³è¿‡ç”¨ JavaScript å¾ˆå®¹æ˜“åœ°å†™åŸç”Ÿç§»åŠ¨åº”ç”¨ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†å¦‚ PhoneGap ç­‰å·¥å…·ï¼Œä½†åœ¨åŸç”Ÿåº”ç”¨ä¸­å°è£…ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„åº”ç”¨è¿˜æœ‰è®¸å¤šéœ€è¦æ”¹è¿›çš„åœ°æ–¹ã€‚ <br><br>ç°åœ¨è¿™ä¸€åˆ‡éƒ½æ”¹å˜äº†â€”â€” Facebook çš„ React å›¢é˜Ÿå‘å¸ƒäº† React Nativeã€‚å®ƒä¸ä»…å¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨ React æ¡†æ¶æ¥ä½¿ç”¨åŸç”Ÿç§»åŠ¨ç»„ä»¶åˆ›å»ºåº”ç”¨ç¨‹åºï¼Œä½†å®ƒä½¿ä¸€åˆ‡æˆä¸ºäº†ç°å®â€”â€”è¿™æ„å‘³ç€æˆ‘ä»¬åœ¨å¼€å‘åº”ç”¨æ—¶ä¸éœ€è¦é‡æ–°ç¼–è¯‘â€”â€”è¿™ä½¿å¾—å®ƒéå¸¸å®¹æ˜“åœ°åˆ›å»ºç§»åŠ¨åº”ç”¨ï¼æˆ‘æœ‰å¹¸é¢„è§ˆäº† React Native çš„ beta ç‰ˆæœ¬ï¼Œä»é‚£å¼€å§‹å®ƒå¤§è§„æ¨¡æˆé•¿äº†èµ·æ¥ã€‚<br><br>è¯·æ³¨æ„ï¼Œç›®å‰å·²ç»æ”¯æŒ iOSã€‚å› æ­¤ä½ éœ€è¦è¿è¡Œ OS X ä¸Šçš„ Xcode æ¥è·Ÿéšæœ¬æ•™ç¨‹ã€‚<br><br>å¦‚æœä½ è¿˜æ²¡æœ‰è¿‡æœºä¼šå­¦ä¹  React, çœ‹çœ‹æˆ‘çš„æ•™ç¨‹ æ¥å¼€å§‹ç”¨ç”¨å®ƒå§.<br><br>è¦é‡ç‚¹æ³¨æ„å­¦ä¹ è¿™ä¸ªå¹¶ä¸æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å†™ä¸€æ¬¡ä»£ç å°±èƒ½å°†è¿™æ®µä»£ç ç”¨åˆ°æ¯ä¸€ä¸ªåœ°æ–¹ã€‚å°è¯•é‚£æ ·åšä¼šå› ä¸ºç–¯ç‹‚çš„æŠ½è±¡çº§åˆ«è€Œé™·å…¥ä¸€åœºç¾éš¾ã€‚React Native åˆ™è®©æˆ‘ä»¬å¯ä»¥å­¦ä¹ ä¸€æ¬¡ï¼Œåˆ°å¤„ç¼–å†™ã€‚<br></p>
<h3 id="å›åˆ°-2004"><a href="#å›åˆ°-2004" class="headerlink" title="å›åˆ° 2004"></a>å›åˆ° 2004</h3><hr>
<p>å¦‚æœä½ å…³æ³¨ç¤¾äº¤ç½‘ç»œé¢†åŸŸçš„è¯ä½ ä¼šè®°å¾— FaceMashï¼Œæ­£å¼è¿™ä¸ªåº”ç”¨å¼€åˆ›äº† Facebookã€‚å¯¹äºä¸å…³æ³¨è¿™ä¸ªé¢†åŸŸçš„äººï¼Œå…¶å®æ˜¯11å¹´å‰(å“‡å¡) Mark Zuckerberg åˆ›å»ºäº† FaceMashï¼Œå®ƒæ˜¯ä¸€ä¸ªä½ å¯ä»¥ç”¨æ¥æŸ¥çœ‹ä¸¤ä¸ªäººä¹‹ä¸­è°æ›´åŠ çƒ­é—¨çš„åº”ç”¨ç¨‹åºã€‚æ¯ä¸€ä¸ªäººéƒ½æœ‰ä¸€ä¸ªèƒ½åæ˜ ä»–ä»¬æœ‰å¤šâ€œçƒ­é—¨â€çš„åˆ†æ•°å€¼ (å°½ç®¡ä¸çŸ¥é“åŸæ¥ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆç®—æ³•ï¼Œä¸è¿‡é‚£éƒ¨ç”µå½±ï¼ˆç¤¾äº¤ç½‘ç»œï¼‰æ˜¾ç¤º Elo æ’åç®—æ³• æ›¾è¢«ä½¿ç”¨è¿‡) .<br><br>å®ƒå…¨éƒ¨çš„è£è€€éƒ½åœ¨äºæ­¤ -<br><br><img src="http://static.oschina.net/uploads/img/201505/19120256_33H2.jpg" alt=""><br><br>è®©æˆ‘ä»¬æ•´ä¸ªæ¥è¿‡ä¸€éå§ - æˆ‘ä»¬å‡†å¤‡ç”¨ React Native æ¥é‡æ–°åˆ›å»º FaceMashã€‚å¦‚æœä½ è§‰å¾—å‡­å¤–è²Œæ¥è¯„ä»·å§‘å¨˜ä»¬ä¸é“å¾·ï¼Œä½ å¯ä»¥æŠŠå›¾ç‰‡å˜æˆä½ è§‰å¾—èƒ½å¸å¼•äººçš„å…¶å®ƒäº‹åŠ¡(ç‹—ç‹—ï¼Œä»£ç å—ï¼Œç­‰ç­‰ï¼Œæˆ‘ä¸åšè¯„ä»·)ï¼Œéšä¾¿ã€‚<br></p>
<h3 id="åˆ›å»ºä½ çš„åº”ç”¨"><a href="#åˆ›å»ºä½ çš„åº”ç”¨" class="headerlink" title="åˆ›å»ºä½ çš„åº”ç”¨"></a>åˆ›å»ºä½ çš„åº”ç”¨</h3><hr>
<p>å¦‚ä½ æ‰€æ„¿ï¼Œä½ å¯ä»¥ä»<a href="https://github.com/rynclark/facemash" target="_blank" rel="external">è¿™å„¿</a> clone åˆ°åˆå§‹çš„ä»£ç åº“ã€‚è¿™ä¸æ˜¯å¿…é¡»çš„ï¼Œä¸è¿‡ä¸ºäº†ä¸è®©ä½ é”™è¿‡ä¸åŒé˜¶æ®µä»£ç çš„ä¸åŒåˆ†æ”¯ï¼Œä½ å¯ä»¥ clone ä¸€ä»½ä¸‹æ¥!<br></p>
<h3 id="ä¼‘æ–¯é¡¿ï¼Œæˆ‘ä»¬å·²ç»å‡ç©º"><a href="#ä¼‘æ–¯é¡¿ï¼Œæˆ‘ä»¬å·²ç»å‡ç©º" class="headerlink" title="ä¼‘æ–¯é¡¿ï¼Œæˆ‘ä»¬å·²ç»å‡ç©º"></a>ä¼‘æ–¯é¡¿ï¼Œæˆ‘ä»¬å·²ç»å‡ç©º</h3><hr>
<p> å¦‚æœä½ æ²¡æœ‰ clone ä»£ç åº“ï¼Œå°±éœ€è¦è®¾ç½®åŸºç¡€é¡¹ç›®.  React Native å¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨ react-native-cli npm åŒ… CLI å¿«é€Ÿå¼€å§‹ä¸€ä¸ªé¡¹ç›®ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£…è¿™ä¸ªï¼Œå¯ä»¥å¿«é€Ÿè¿è¡Œå‘½ä»¤ï¼š<br></p>
<pre><code>npm install -g react-native-cli
</code></pre><p> ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹äº†.<br><br>åœ¨ç»ˆç«¯é‡Œå¯¼èˆªåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹å¹¶è¿è¡Œå‘½ä»¤ï¼š<br></p>
<pre><code>react-native init FaceMash
</code></pre><p>è¿™æ ·åšèƒ½ä¸ºæˆ‘ä»¬å‡†å¤‡å¥½åŸºç¡€åˆ°åº”ç”¨ç¨‹åºï¼Œä¾›æˆ‘ä»¬æŒ–æ˜å’ŒåŠ å…¥æ›´å¤šä¸œè¥¿.<br></p>
<h3 id="æ‰“å¼€å®ƒ"><a href="#æ‰“å¼€å®ƒ" class="headerlink" title="æ‰“å¼€å®ƒ"></a>æ‰“å¼€å®ƒ</h3><hr>
<p> æ‰“å¼€ XCode å¹¶æµè§ˆåˆ°ä½ åˆ›å»ºäº†åº”ç”¨ç¨‹åºçš„ç›®å½•é‡Œé¢. ä½ éœ€è¦ä»è¿™é‡Œæ‰“å¼€ facemash.xcodeprojã€‚<br><br>React Native æ”¯æŒæˆ‘ä»¬åœ¨ iOS æ¨¡æ‹Ÿå™¨å’Œå®é™…çš„ iOS è®¾å¤‡ä¸Šå·¥ä½œ.<br><br>æˆ‘å°†ä¼šåœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸Šé¢è¿›è¡Œå¼€å‘ï¼Œå› ä¸ºå®ƒè¿è¡Œæ›´å¤šå¿«é€Ÿçš„åº”ç”¨ç¨‹åºå¼€å‘ - å½“æˆ‘ä»¬ä¿®æ”¹äº†JavaScript æ—¶ï¼Œå¯ä»¥æŒ‰ä¸‹ Command + R ç»„åˆå»ºæ¥åˆ·æ–°åº”ç”¨ï¼Œæˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ developer èœå•(é€šè¿‡ Command + Control + Z å°±èƒ½è®¿é—®åˆ°)å¯ç”¨åŠ¨æ€é‡æ–°è½½å…¥æ¥å˜æˆè¶…çº§æ‡’äººã€‚æˆ‘ä»¬è®¾ç½®å¯ä»¥åœ¨Chromeçš„å¼€å‘è€…å·¥å…·ä¸­è°ƒè¯•æˆ‘ä»¬çš„ä»£ç ã€‚<br><br>å¦‚æœä½ å¸Œæœ›ä½¿ç”¨ä½ çš„ iOS è®¾å¤‡æ¥å¼€å‘ä½ çš„åº”ç”¨ç¨‹åºï¼Œå°±éœ€è¦è®©è®¾å¤‡ç—›ä½ çš„è®¡ç®—æœºå¤„äºåŒä¸€ä¸ªç½‘ç»œä¸­ã€‚React é»˜è®¤ä¼šåœ¨ localhost æ‰¾åˆ° JavaScriptï¼Œæ‰€ä»¥å°±éœ€è¦ä½ å°†å®ƒæŒ‡å‘ä½ çš„è®¡ç®—æœº.<br><br>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–è¾‘ AppDelegate.m æ–‡ä»¶ï¼Œå°† localhost æ”¹æˆæˆ‘ä»¬çš„æœ¬åœ° IP æ¥è¾¾æˆè¿™ä¸ªç›®çš„. ä½ å¯ä»¥é€šè¿‡æŒ‰ä¸‹ Alt çš„åŒæ—¶ç‚¹å‡» wireless èœå• åœ¨ OS X æ¥æ‰¾åˆ°è¿™ä¸ªä¸œè¥¿.<br><br><img src="http://static.oschina.net/uploads/img/201505/19120257_Ju7r.png" alt=""><br><br>ç°åœ¨å°±å¯ä»¥è¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºäº†ã€‚åº”ç”¨ç¨‹åºä¼šåœ¨ä½ åœ¨ XCode ä¸­é€‰æ‹©çš„ç›®æ ‡ä¸­æ‰“å¼€. å½“æˆ‘ä»¬ç‚¹å‡»è¿è¡Œï¼ŒåŒæ—¶ä¼šäº§ç”Ÿä¸€ä¸ªåœ¨æˆ‘ä»¬åº”ç”¨ç¨‹åºç›®å½•ä¸­è¿è¡Œç€ npm start çš„ç»ˆç«¯çº¿ç¨‹. å¦‚æœä½ ä¸å¸Œæœ›é€šè¿‡ XCode è¿è¡Œåº”ç”¨ï¼Œç¡®ä¿ä½ è¿è¡Œäº† npm startã€‚è¿™å°†ä¼šåˆ›å»ºä¸€ä¸ªåœ¨ç«¯å£8081ä¸Šçš„æœ¬åœ° web æœåŠ¡å™¨ï¼Œå®ƒæŒ‡å‘æˆ‘ä»¬ç¼–è¯‘å¥½çš„ JavaScript ä»£ç ï¼Œå¹¶ä¸”ä¹Ÿä¼šç›‘è§†åˆ°æˆ‘ä»¬ä¿å­˜ä»£ç çš„åŠ¨ä½œä»¥è¿›è¡Œé‡æ–°ç¼–è¯‘ã€‚<br><br><img src="http://static.oschina.net/uploads/img/201505/19120258_yw4N.png" alt=""><br><br>æˆ‘æŠŠåº”ç”¨ç¨‹åºè¿è¡Œåœ¨ä¸€ä¸ªæ¨¡æ‹Ÿçš„ iPhone6 ä¹‹ä¸Š, å±å¹•æ˜¯çœŸå®è®¾å¤‡çš„50%é‚£ä¹ˆå¤§.<br><br>è¿™å°±æ˜¯äº†ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªç©ºçš„ canvasï¼Œæœ‰å¥½å¤šç©ºé—´æ´»åŠ¨å•Š!<br></p>
<h3 id="æ‚„æ‚„æ¥çœ‹ä¸€çœ‹"><a href="#æ‚„æ‚„æ¥çœ‹ä¸€çœ‹" class="headerlink" title="æ‚„æ‚„æ¥çœ‹ä¸€çœ‹"></a>æ‚„æ‚„æ¥çœ‹ä¸€çœ‹</h3><hr>
<p>è®©æˆ‘æ¥çœ‹çœ‹æ‹¿æ¥æ¸²æŸ“æˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢çš„æˆªå±ä¸­æ‰€çœ‹åˆ°çš„ä¸œè¥¿çš„ä»£ç . æ‰“å¼€ index.ios.js.<br></p>
<pre><code>/**
 * Sample React Native App
 * https://github.com/facebook/react-native
 */
&apos;use strict&apos;;
var React = require(&apos;react-native&apos;);
var {
  AppRegistry,
  StyleSheet,
  Text,
  View,
} = React;
var facemash = React.createClass({
  render: function() {
    return (
      &lt;View style={styles.container}&gt;
        &lt;Text style={styles.welcome}&gt;
          Welcome to React Native!
        &lt;/Text&gt;
        &lt;Text style={styles.instructions}&gt;
          To get started, edit index.ios.js
        &lt;/Text&gt;
        &lt;Text style={styles.instructions}&gt;
          Press Cmd+R to reload,{&apos;\n&apos;}
          Cmd+Control+Z for dev menu
        &lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});
var styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: &apos;center&apos;,
    alignItems: &apos;center&apos;,
    backgroundColor: &apos;#F5FCFF&apos;,
  },
  welcome: {
    fontSize: 20,
    textAlign: &apos;center&apos;,
    margin: 10,
  },
  instructions: {
    textAlign: &apos;center&apos;,
    color: &apos;#333333&apos;,
    marginBottom: 5,
  },
});
AppRegistry.registerComponent(&apos;facemash&apos;, () =&gt; facemash);
</code></pre><p>ä½ å¯ä»¥åˆä¸Šä½ æƒŠè®¶çš„å˜´äº† - æ˜¯çš„ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ‹¿æ¥æ¸²æŸ“æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„å…¨éƒ¨ä¸œè¥¿ã€‚çœ‹èµ·æ¥ç†Ÿæ‚‰ï¼Œå¯¹ä¸å¯¹?<br></p>
<h3 id="React-Native-vs-æµè§ˆå™¨"><a href="#React-Native-vs-æµè§ˆå™¨" class="headerlink" title="React Native vs æµè§ˆå™¨"></a>React Native vs æµè§ˆå™¨</h3><hr>
<p>ä¸æ˜¯ React Native çš„æ‰€æœ‰ä¸œè¥¿éƒ½èƒ½æ»¡è¶³ä½ åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨Reactçš„ç”¨é€”. ä¸è¿‡ï¼Œä¸¤è€…ä¹‹é—´çš„åŒºåˆ«æ˜¯å¦‚æ­¤çš„å¾®ä¸è¶³é“ï¼Œæ‰€ä»¥å®Œå…¨æ²¡æœ‰å¿…è¦æ‹…å¿ƒå®ƒä»¬.<br><br>1.ä¸ä½¿ç”¨è¯¸å¦‚ div æ´»ç€ section ä¹‹ç±»çš„å—å…ƒç´ , æˆ‘ä»¬åœ¨Reactä¸­ä½¿ç”¨çš„æ˜¯Viewç»„ä»¶. å®ƒä¼šæ˜ å°„åˆ°åŸç”Ÿçš„ iOS ç»„ä»¶ UIView.<br><br>2.æ‰€æœ‰çš„æ–‡æœ¬éƒ½å¿…é¡»è¢«å°è£…åˆ° Text ç»„ä»¶é‡Œé¢ã€‚<br><br>3.æ²¡æœ‰æ ·å¼è¡¨ - ä½ çš„æ‰€æœ‰çš„æ ·å¼éƒ½æ˜¯è¢«å†™æˆ JavaScript å¯¹è±¡çš„ã€‚<br><br>4.æˆ‘ä»¬æ²¡æœ‰å¿…è¦æ‹…å¿ƒæµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ - ES6 harmony æ˜¯åœ¨ç›’å­ä¹‹å¤–å—åˆ°æ”¯æŒçš„ï¼Œflexboxä¹Ÿæ˜¯å¦‚æ­¤ã€‚<br></p>
<h3 id="å¼€å§‹å·¥ä½œ"><a href="#å¼€å§‹å·¥ä½œ" class="headerlink" title="å¼€å§‹å·¥ä½œ"></a>å¼€å§‹å·¥ä½œ</h3><hr>
<p>æˆ‘ä»¬å‡†å¤‡ä»æ¸…ç† React ç»„ä»¶çš„æ ·å¼è¡¨ç›’æ¸²æŸ“å‡½æ•°å¼€å§‹ã€‚ä¸ºäº†å¯¹ React Native æœ‰ä¸€ä¸ªç†æƒ³çš„åŸºæœ¬äº†è§£ï¼Œæˆ‘ä»¬å°†å°è¯•ä½¿ç”¨å°½å¯èƒ½å¤šçš„ä¸åŒç»„ä»¶ã€‚<br><br>è®©æˆ‘ä»¬å…ˆä» TabBarIOS ç»„ä»¶å¼€å§‹. ä½ ä¹Ÿè®¸èƒ½è®¤å‡º TabBar ç»„ä»¶æ¥ï¼Œå®ƒè¢«ç”¨åœ¨è¯¸å¦‚æ—¶é’Ÿå’Œç…§ç‰‡è¿™æ ·ä¸€äº›æ ¸å¿ƒçš„iOSåº”ç”¨ä¸­ã€‚<br></p>
<pre><code>var React = require(&apos;react-native&apos;);
var {
  AppRegistry,
  StyleSheet,
  Text,
  View,
  TabBarIOS
} = React;
var facemash = React.createClass({
  getInitialState() {
    return {
      selectedTab: &apos;faceMash&apos;
    }
  },
  render: function() {
    return (
      &lt;TabBarIOS&gt;
        &lt;TabBarIOS.Item
          title=&quot;FaceMash&quot;
          icon={ require(&apos;image!facemash&apos;) }
          selected={ this.state.selectedTab === &apos;faceMash&apos; }&gt;
          &lt;View style={ styles.pageView }&gt;
            &lt;Text&gt;Face Mash&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/TabBarIOS.Item&gt;
        &lt;TabBarIOS.Item
          title=&quot;Messages&quot;
          icon={ require(&apos;image!messages&apos;) }
          selected={ this.state.selectedTab === &apos;messages&apos; }&gt;
          &lt;View style={ styles.pageView }&gt;
            &lt;Text&gt;Messages&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/TabBarIOS.Item&gt;
        &lt;TabBarIOS.Item
          title=&quot;Settings&quot;
          icon={ require(&apos;image!settings&apos;) }
          selected={ this.state.selectedTab === &apos;settings&apos; }&gt;
          &lt;View style={ styles.pageView }&gt;
            &lt;Text&gt;Settings&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/TabBarIOS.Item&gt;
      &lt;/TabBarIOS&gt;
    );
  }
});
var styles = StyleSheet.create({
  pageView: {
    backgroundColor: &apos;#fff&apos;,
    flex: 1
  }
});
// omitted code
</code></pre><p><img src="http://static.oschina.net/uploads/img/201505/19120258_ezqI.png" alt=""><br><br>çœ‹çœ‹è¿™ä¸ªï¼ä½ ä¼šæ³¨æ„åˆ°å½“å‰çš„æ–‡æœ¬è¦†åœ¨äº†çŠ¶æ€æ¡ä¸Šé¢ï¼Œæˆ‘ä»¬ç¨åä¼šä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚<br><br>TabBarIOS ç»„ä»¶å¯¹å®ƒçš„æ¯ä¸€ä¸ªå­é¡¹éƒ½ä½¿ç”¨äº† TabBarIOS.Itemã€‚æˆ‘ä»¬å°†ä¼šæœ‰ä¸‰ä¸ªé¡µé¢â€”â€”åˆ†åˆ«æ˜¯ä½ ç»™äººä»¬è¯„çº§çš„é¡µé¢ï¼Œä¸€ä¸ªæ¶ˆæ¯åˆ—è¡¨ä»¥åŠä¸€ä¸ªè®¾ç½®çš„é¡µé¢ã€‚<br><br>TabBarIOS.Item å¿…é¡»æœ‰ä¸€ä¸ªå­é¡¹ã€‚ä»–å°†ä¼šæ˜¯å·²ç»è¢«é€‰å–çš„é¡µé¢çš„å†…å®¹(ä½ å¯ä»¥å‘ç°æˆ‘ä»¬ä¼šæ ¹æ®ç»„ä»¶çš„çŠ¶æ€æ¥é€‰æ‹©è®¾ç½®æˆtrueè¿˜æ˜¯false)ã€‚<br><br>å¾ˆæ˜æ˜¾ï¼Œä¸€ä¸ª TAB æ¡æ²¡æœ‰å›¾æ ‡ä¸ä¼šå¥½çœ‹ã€‚æœ‰å‡ ä¸ªç³»ç»Ÿå›¾æ ‡æ˜¯ä½ å¯ä»¥æ‹¿æ¥ç”¨çš„ï¼Œä¸è¿‡å¦‚æœä½ ç”¨äº†ä»–ä»¬çš„è¯ï¼ŒTAB çš„æ–‡å­—ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼Œä»¥ä¸ç³»ç»Ÿçš„å›¾æ ‡é…å¯¹. æ‰€ä»¥æˆ‘ä»¬ä¼šä½¿ç”¨è‡ªå·±çš„å›¾æ ‡ã€‚ä¸ºäº†åœ¨ React Native ä¸­å¼•å…¥æœ¬åœ°çš„å›¾ç‰‡èµ„æºï¼Œä½ å¯ä»¥ä½¿ç”¨ require åé¢å¸¦ä¸Šå›¾ç‰‡çš„èµ„æºåç§°ï¼<br><br>æˆ‘ä½¿ç”¨çš„å›¾æ ‡æ˜¯å¯ä»¥å…è´¹æ‹¿æ¥ç”¨çš„ï¼Œæ¥è‡ªäº <a href="http://www.flaticon.com/" target="_blank" rel="external">flaticon</a> çš„ CC 3.0 è®¸å¯.<br></p>
<h3 id="ä½¿ç”¨é™æ€å›¾ç‰‡"><a href="#ä½¿ç”¨é™æ€å›¾ç‰‡" class="headerlink" title="ä½¿ç”¨é™æ€å›¾ç‰‡"></a>ä½¿ç”¨é™æ€å›¾ç‰‡</h3><hr>
<p>ä¸ºäº†å‘ React Native æ·»åŠ é™æ€å›¾ç‰‡ï¼Œè¯·æ‰“å¼€ XCodeã€‚åœ¨ Project Navigator (å·¦æ‰‹è¾¹çš„ç¬¬ä¸€ä¸ªå›¾æ ‡)ä¸­, æ‰“å¼€ Images.xcassets ã€‚ä½ æ‰€æœ‰çš„å›¾ç‰‡éƒ½åœ¨é‚£å„¿ã€‚<br><br>è¿™å¯ä»¥è®©æˆ‘ä»¬å°†æ‰€æœ‰çš„èµ„æºä¿æŒåœ¨åŒä¸€ä¸ªåç§°ä¸‹ï¼Œè¿™æ ·å¯ä»¥é’ˆå¯¹æ¯ä¸€ä¸ªåˆ†è¾¨ç‡ã€ç”šè‡³æ˜¯è®¾å¤‡çš„ç‰¹å®šå›¾ç‰‡æä¾›ä¸åŒçš„å›¾åƒèµ„æºã€‚<br><br>å›¾åƒå¿…é¡»éµå¾ªä¸€ä¸ªä¸¥æ ¼çš„å‘½åçº¦å®šã€‚ä½¿ç”¨çš„èµ„æºåç§°(æ¯”å¦‚ messages æˆ–è€…æ˜¯ settings) å¹¶åœ¨åé¢ç»™å®ƒå¸¦ä¸Šå®ƒåº”è¯¥é€‚ç”¨æ¥æ˜¾ç¤ºçš„åˆ†è¾¨ç‡ã€‚ä¾‹å¦‚ï¼Œæˆ‘è¦ä¸º iPhone6 æ„å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œæˆ‘ä¼šä¸ºæ­¤ä½¿ç”¨ @2x åˆ†è¾¨ç‡ã€‚<br><br>ä¸€æ—¦ä¸ºä½ çš„å›¾ç‰‡è¿›è¡Œäº†æ­£ç¡®çš„å‘½åï¼Œå°±å¯ä»¥å°†å®ƒæ‹–å…¥å·¦æ‰‹è¾¹çš„ Images.xcassets ä¸­äº†ã€‚<br><br><img src="http://static.oschina.net/uploads/img/201505/19120259_JAJg.png" alt=""><br><br>ç„¶åä½ å°±å¯ä»¥åœ¨ React Native ä¸­ä½¿ç”¨ require(â€˜image!assetnameâ€™) äº†ï¼<br></p>
<h3 id="å›åˆ°ä»£ç "><a href="#å›åˆ°ä»£ç " class="headerlink" title="å›åˆ°ä»£ç "></a>å›åˆ°ä»£ç </h3><hr>
<p>ä¸‹ä¸€ä¸ªé€»è¾‘æ­¥éª¤å°±æ˜¯è®¾ç½®æˆ‘ä»¬çš„ä¸»ç»„ä»¶ä½¿å¾— Tab ä¹‹é—´çš„åˆ‡æ¢å¯ç”¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®ç”¨æˆ·ç‚¹å‡»å®ƒæ—¶çš„çŠ¶æ€æ¥åšåˆ°ã€‚TabBarIOS.Item è®©æˆ‘ä»¬å¯ä»¥ç»™å®ƒä¸€ä¸ª onPress å±æ€§ï¼Œå¯ä»¥æ‹¿æ¥æ£€æµ‹ç”¨æˆ·ä½•æ—¶æŒ‰ä¸‹äº†ä¸€ä¸ªtabã€‚<br></p>
<pre><code>// omitted code

var facemash = React.createClass({
  getInitialState() {
    return {
      selectedTab: &apos;faceMash&apos;
    }
  },
  changeTab(tabName) {
    this.setState({
      selectedTab: tabName
    });
  },
  render: function() {
    return (
      &lt;TabBarIOS&gt;
        &lt;TabBarIOS.Item
          title=&quot;FaceMash&quot;
          icon={ require(&apos;image!facemash&apos;) }
          onPress={ () =&gt; this.changeTab(&apos;faceMash&apos;) }
          selected={ this.state.selectedTab === &apos;faceMash&apos; }&gt;
          &lt;View style={ styles.pageView }&gt;
            &lt;Text&gt;Face Mash&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/TabBarIOS.Item&gt;
        &lt;TabBarIOS.Item
          title=&quot;Messages&quot;
          icon={ require(&apos;image!messages&apos;) }
          onPress={ () =&gt; this.changeTab(&apos;messages&apos;) }
          selected={ this.state.selectedTab === &apos;messages&apos; }&gt;
          &lt;View style={ styles.pageView }&gt;
            &lt;Text&gt;Messages&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/TabBarIOS.Item&gt;
        &lt;TabBarIOS.Item
          title=&quot;Settings&quot;
          icon={ require(&apos;image!settings&apos;) }
          onPress={ () =&gt; this.changeTab(&apos;settings&apos;) }
          selected={ this.state.selectedTab === &apos;settings&apos; }&gt;
          &lt;View style={ styles.pageView }&gt;
            &lt;Text&gt;Settings&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/TabBarIOS.Item&gt;
      &lt;/TabBarIOS&gt;
    );
  }
});

// omitted code
</code></pre><p><img src="http://static.oschina.net/uploads/img/201505/19120259_Aiww.png" alt=""><br><br>å¯ä»¥äº†ï¼å®ƒæ˜¯å¤šä¹ˆçš„ç®€å•. é€šè¿‡åœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸­æŒ‰ä¸‹ Command+R æ¥åˆ·æ–°åº”ç”¨(æˆ–è€…å¦‚æœä½ æ˜¯åœ¨çœŸå®è®¾å¤‡ä¸Šå¼€å‘ï¼Œå¯ä»¥é€šè¿‡ XCode æ¥å¯¹å®ƒè¿›è¡Œé‡æ–°ç¼–è¯‘) ä½ å°±ä¼šçœ‹åˆ°ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿›è¡ŒæŒ‰ä¸‹ tab çš„æ“ä½œäº†ï¼Œå¹¶ä¸”ä¸»å±å¹•çš„æ˜¾ç¤ºä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼<br><br>å°½ç®¡æˆ‘ä»¬è¿˜æ²¡æœ‰å†™å¤ªå¤šçš„ä»£ç ï¼Œä½†æ˜¯å·²ç»è§ç¬¬ä¸€ä¸ªæ­¥éª¤åˆ†æ”¯çš„ä»£ç  checkout å‡ºæ¥äº†ï¼Œé‡Œé¢ä¹ŸåŒ…å«äº†æˆ‘ä»¬åœ¨è¿™ä¸ª tab ä¸Šç”¨ä¸Šäº†çš„å›¾æ ‡ã€‚<br></p>
<h3 id="è®©æˆ‘ä»¬æ‰“åˆ†å§"><a href="#è®©æˆ‘ä»¬æ‰“åˆ†å§" class="headerlink" title="è®©æˆ‘ä»¬æ‰“åˆ†å§"></a>è®©æˆ‘ä»¬æ‰“åˆ†å§</h3><hr>
<p>è®©æˆ‘ä»¬æ¥å®ç° FaceMash çš„ tab ç•Œé¢å§ã€‚æˆ‘ä»¬å°†ä¼šä»ä¸€ä¸ªç«¯ç‚¹é‚£é‡Œä½¿ç”¨è·å–æ¥åŠ è½½åˆ°æ•°æ®ã€‚åœ¨æ­¥éª¤ä¸€çš„åˆ†æ”¯ä¸­ï¼Œæˆ‘å·²ç»åœ¨ rest/ ç›®å½•ä¸­åŒ…å«è¿›æ¥äº†ä¸€ä¸ª config.yaml æ–‡ä»¶ï¼Œé‚£æ˜¯æˆ‘ä»¬å°†ä¼šç”¨æ¥ä½¿ç”¨ stubby å¯¹ç«¯ç‚¹è¿›è¡Œæ¨¡æ‹Ÿçš„ã€‚æ‰€æœ‰ endpoint/pictures ä¸­çš„ç”¨æˆ·éƒ½ä¼šè¢«ä» randomuser.me å¤„éšæœºçš„ç”Ÿæˆã€‚<br><br>æ‰“å¼€ä½ çš„ç»ˆç«¯å¹¶ä¸”è¿è¡Œå‘½ä»¤<br></p>
<pre><code>stubby -d rest/config.yaml
</code></pre><p>æ¥ç€æˆ‘ä»¬å°±å¼€å§‹å§ï¼<br><br>åœ¨åä¸º tabs/ çš„ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå‘½åä¸º FaceMash.jsï¼Œåœ¨é‡Œé¢æ”¾ä¸€ä¸ªåŸºç¡€çš„ React ç»„ä»¶ -<br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View
  } = React;

var facemashTab = React.createClass({
  render: function() {
    return (
      &lt;View style={ styles.container }&gt;
        &lt;Text&gt;
          FaceMash tab!
        &lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;
  }
});

module.exports = facemashTab;
</code></pre><p>ç›®å‰æˆ‘ä»¬èƒ½ä»è¿™ä¸ªTabä¸Šå¾—åˆ°å…¨éƒ¨å°±æ˜¯ä¸€ä¸ªé‡Œé¢æœ‰ä¸€äº›æ–‡å­—çš„åŸºç¡€çš„ View ç»„ä»¶ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºè¿™ä¸ª View å¼„ä¸€äº›åŸºç¡€çš„æ ·å¼ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿å®ƒå…·æœ‰åˆé€‚çš„é«˜å’Œå®½ã€‚<br><br>æˆ‘ä»¬ä¼šæ·»åŠ ä¸€ä¸ªå¤´éƒ¨ï¼Œçº¯ç²¹æ˜¯ç”¨äºå±•ç¤ºçš„ç›®çš„.<br></p>
<pre><code>// omitted code

var facemashTab = React.createClass({
  render: function() {
    return (
      &lt;View style={ styles.container }&gt;
        &lt;View style={ styles.header }&gt;
        &lt;/View&gt;
        &lt;View style={ styles.content }&gt;
          &lt;Text&gt;
            FaceMash tab!
          &lt;/Text&gt;
        &lt;/View&gt;
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;
  },
  header: {
    height: 40,
    background: &apos;#ff0000&apos;
  }
});

module.exports = facemashTab;
</code></pre><p><img src="http://static.oschina.net/uploads/img/201505/19120259_BD0O.png" alt=""><br><br>ç°åœ¨æˆ‘ä»¬ä¼šæŠ±æ€¨çŠ¶æ€æ¡çš„é»‘è‰²å¾ˆç³Ÿç³•ï¼Œä¸è¿‡ä¸è¦æ‹…å¿ƒï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ StatusBarIOS çš„ API æ¥å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚å½“ changeTabfunction è¢«è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥çœ‹çœ‹å½“å‰çš„ tab æ˜¯ä¸æ˜¯ FaceMash çš„ tabã€‚å¦‚æœæ˜¯çš„è¯ï¼Œæˆ‘ä»¬å°†ä¼šæŠŠçŠ¶æ€è°ƒçš„çŠ¶æ€è®¾ç½®ä¸º1ï¼ˆç™½è‰²ï¼‰ï¼Œå¦‚æœä¸æ˜¯å°±è®¾ç½®ä¸º0(é»‘è‰²).<br></p>
<h4 id="index-ios-js"><a href="#index-ios-js" class="headerlink" title="index.ios.js"></a>index.ios.js</h4><pre><code>// omitted code

var {
  AppRegistry,
  StyleSheet,
  Text,
  View,
  TabBarIOS,
  StatusBarIOS
} = React;

var facemash = React.createClass({
  ...,
  changeTab(tabName) {
  StatusBarIOS.setStyle(tabName === &apos;faceMash&apos; ? 1 : 0);
    this.setState({
      selectedTab: tabName
    });
  },
  ...
});

// omitted code
</code></pre><p>åˆ·æ–°ä½ å°±ä¼šçœ‹åˆ°ä¸€ä¸ªç™½è‰²çš„çŠ¶æ€æ¡ - è§£å†³äº†!<br><br>æˆ‘ä»¬ç°åœ¨å¯ä»¥è®¿é—®ç«¯ç‚¹æ¥å‘æˆ‘ä»¬çš„ç”¨æˆ·è¿›è¡Œå±•ç¤ºäº†ã€‚æˆ‘ä»¬å°†ä¼šä½¿ç”¨ fetchï¼Œå®ƒåœ¨ React Native ä¸­é»˜è®¤æ˜¯è¢«åŒ…å«äº†è¿›æ¥çš„ã€‚<br></p>
<pre><code>// omitted code

var facemashTab = React.createClass({
  getInitialState: function() {
    return {
      list: [],
      currentIndex: 0
    };
  },
  componentWillMount: function() {
    fetch(&apos;http://localhost:8882/rest/mash&apos;)
      .then(res =&gt; res.json())
      .then(res =&gt; this.setState({ list: res }));
  },
  render: function() {
    return (
      ...
    );
  }
});

// omitted code
</code></pre><p>è¯·æ±‚ä¼šç”¨è¿”å›çš„æ•°æ®å¯¹æˆ‘ä»¬çš„çŠ¶æ€è¿›è¡Œå¡«å……ã€‚å› ä¸ºåˆå§‹çš„æ•°æ®æ—¶ä¸€ä¸ªç©ºçš„æ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ render å‡½æ•°ä¸­è¿›è¡Œæ£€æŸ¥ï¼Œåœ¨ä»–ä»¬ç­‰å¾…çš„æ—¶å€™æ˜¾ç¤ºä¸€ä¸ªåŠ è½½é¡µé¢ã€‚<br></p>
<pre><code>var {
  StyleSheet,
  Text,
  View,
  ActivityIndicatorIOS
  } = React;

var facemashTab = React.createClass({
  ...,
  render: function() {
    var contents;
    if (!this.state.list.length) {
      contents = (
        &lt;View style={ styles.loading }&gt;
          &lt;Text style={ styles.loadingText }&gt;Loading&lt;/Text&gt;
          &lt;ActivityIndicatorIOS /&gt;
        &lt;/View&gt;
      )
    } else {
      contents = (
        &lt;View style={ styles.content }&gt;
          &lt;Text&gt;Loaded&lt;/Text&gt;
        &lt;/View&gt;
      )
    }
    return (
      &lt;View style={ styles.container }&gt;
        &lt;View style={ styles.header }&gt;
          &lt;Text style={ styles.headerText }&gt;FaceMash&lt;/Text&gt;
        &lt;/View&gt;
        { contents }
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;
  },
  loading: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;,
    justifyContent: &apos;center&apos;,
    alignItems: &apos;center&apos;
  },
  loadingText: {
    fontSize: 14,
    marginBottom: 20
  },
  header: {
    height: 50,
    backgroundColor: &apos;#760004&apos;,
    paddingTop: 20,
    alignItems: &apos;center&apos;
  },
  headerText: {
    color: &apos;#fff&apos;,
    fontSize: 20,
    fontWeight: &apos;bold&apos;
  }
});
</code></pre><p><img src="http://static.oschina.net/uploads/img/201505/19120300_zj6X.png" alt=""><br><br><img src="http://static.oschina.net/uploads/img/201505/19120300_KWEJ.png" alt=""><br><br>ç°åœ¨æˆ‘ä»¬å°†å¯¹ä½äº this.state.list çš„æ•°æ®è¿›è¡Œè®¿é—®ã€‚æˆ‘ä»¬ä¹Ÿä¼šåœ¨ç«¯ç‚¹è¿”å›ä¸€ä¸ªå¯¹è±¡çš„æ•°ç»„æ—¶ï¼Œå¾—åˆ°ä½äºçŠ¶æ€ä¸­çš„æ•°ç»„çš„å½“å‰ç´¢å¼• - æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ç”¨æˆ·å¯ä»¥è¿›è¡Œè¯„æ¯”çš„ä¸¤ä¸ªäºº.<br><br>å› ä¸ºè¦ä»ä¸¤ä¸ªäººä¸­é€‰ä¸€ä¸ªï¼Œä¸¤è€…éƒ½æœ‰åŒè‡ªèº«ç›¸å…³è”çš„ç›¸åŒæ•°æ®ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª React ç»„ä»¶æ¥å±•ç¤ºä»–ä»¬çš„æ•°æ®ã€‚<br></p>
<pre><code>// omitted code

var Person = React.createClass({
  render: function() {
    var person = this.props.person;
    return (
      &lt;View style={ styles.person }&gt;
        &lt;Text&gt;Person!&lt;/Text&gt;
      &lt;/View&gt;
    )
  }
});

var facemashTab = React.createClass({
  getInitialState: function() {
    return {
      list: [],
      currentIndex: 0
    };
  },
  componentWillMount: function() {
    fetch(&apos;http://localhost:8882/rest/mash&apos;)
      .then(res =&gt; res.json())
      .then(res =&gt; this.setState({ list: res }));
  },
  render: function() {
    var contents;
    if (!this.state.list.length) {
      contents = (
        &lt;View style={ styles.loading }&gt;
          &lt;Text style={ styles.loadingText }&gt;Loading&lt;/Text&gt;
          &lt;ActivityIndicatorIOS /&gt;
        &lt;/View&gt;
      )
    } else {
      var { list, currentIndex } = this.state;
      var record = list[currentIndex];
      var people = record.users.map(person =&gt; &lt;Person person={ person } /&gt;);
      contents = (
        &lt;View style={ styles.content }&gt;
          { people }
        &lt;/View&gt;
      )
    }
    return (
      &lt;View style={ styles.container }&gt;
        &lt;View style={ styles.header }&gt;
          &lt;Text style={ styles.headerText }&gt;FaceMash&lt;/Text&gt;
        &lt;/View&gt;
        { contents }
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  ...,
  person: {
    flex: 1,
    margin: 10,
    borderRadius: 3,
    overflow: &apos;hidden&apos;
  }
});
</code></pre><p>æˆ‘ä»¬ç°åœ¨å°±æœ‰äº†ä¸€ä¸ªè¿›è¡Œä¸¤æ¬¡æ•°æ®è£…å…¥ï¼ˆæ¯ä¸ªäººä¸€æ¬¡ï¼‰çš„ç»„ä»¶ï¼Œåˆé€‚çš„é…ç½®ä¼šå‘å®ƒè¿›è¡Œä¼ é€’ã€‚ç°åœ¨å°±å¯ä»¥å°†ä¸ªäººèµ„æ–™å›¾ç‰‡å’Œç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯å±•ç¤ºå‡ºæ¥äº†ã€‚<br></p>
<h4 id="å±•ç¤ºå¤–éƒ¨çš„å›¾ç‰‡"><a href="#å±•ç¤ºå¤–éƒ¨çš„å›¾ç‰‡" class="headerlink" title="å±•ç¤ºå¤–éƒ¨çš„å›¾ç‰‡"></a>å±•ç¤ºå¤–éƒ¨çš„å›¾ç‰‡</h4><p>ä¸åŒäºæˆ‘ä»¬çš„ tab å›¾æ ‡ï¼Œæˆ‘ä»¬ç”¨æ¥å±•ç¤ºçš„æ¯ä¸€ä¸ªç”¨æˆ·çš„å›¾ç‰‡éƒ½æ¥è‡ªä¸€ä¸ªå¤–éƒ¨çš„æº. è¿™ä¸æ˜¯é—®é¢˜ï¼Œäº‹å®ä¸Šå±•ç¤ºå®ƒä»¬è¦æ¯”å±•ç¤ºé™æ€èµ„æºæ›´åŠ ç®€å•.<br><br>æˆ‘ä»¬åªæ˜¯å‘ Image ç»„ä»¶ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯å‘å®ƒä¼ å…¥ä¸€ä¸ªéœ€è¦çš„å›¾ç‰‡. è¿™ä¸ªå¯¹è±¡ä¼šæœ‰ä¸€ä¸ªå±æ€§â€”â€” urlï¼Œå®ƒä¼šæŒ‡å‘æˆ‘ä»¬æƒ³è¦åŠ è½½çš„å›¾ç‰‡.<br><br>å½“æˆ‘ä»¬å°†ç”¨æˆ·ä¿¡æ¯ä½œä¸ºä¸€ä¸ªå«åšpersonçš„å±æ€§è¿›è¡Œä¼ é€’æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ this.props.person.picture è®¿é—®åˆ°å›¾ç‰‡çš„ URLã€‚<br></p>
<pre><code>// omitted code
</code></pre><p>var Person = React.createClass({<br>  render: function() {<br>    var person = this.props.person;<br>    return (<br>      <view style="{" styles.person="" }=""><br>        <image style="{" styles.personimage="" }="" source="{" {="" uri:="" person.picture=""><br>      </image></view><br>    )<br>  }<br>});</p>
<p>// omitted code</p>
<p>var styles = StyleSheet.create({<br>  â€¦<br>  person: {<br>    flex: 1,<br>    margin: 10,<br>    borderRadius: 3,<br>    overflow: â€˜hiddenâ€™<br>  },<br>  personImage: {<br>    flex: 1,<br>    height: 200<br>  },<br>  â€¦<br>});<br>module.exports = facemashTab;</p>
<p>è¿™é‡Œä¹Ÿè¿˜æœ‰ä¸€äº›å¿…è¦çš„æ ·å¼ - é‡æ–°è®¾ç½®å›¾ç‰‡çš„å¤§å°éš¾ä»¥ç½®ä¿¡çš„ç®€å•. ç±»ä¼¼çš„ CSS å±æ€§ï¼Œæ¯”å¦‚  background-sizeï¼Œå¯ä»¥åœ¨ React Native ä¸­è¢«åº”ç”¨åˆ°å›¾ç‰‡ä¹‹ä¸Š, è€Œè¿™é‡Œæˆ‘ä»¬æ™ºæ…§åœ¨ä¸Šé¢æ”¾ä¸€ä¸ª heightï¼Œè€Œå›¾ç‰‡ä¼šæ®æ­¤å¯¹å°ºå¯¸è¿›è¡Œé‡æ–°è®¾ç½®.</p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å°†å‰©ä¸‹çš„ç”¨æˆ·ä¿¡æ¯æ·»åŠ è¿›å»äº†ã€‚</p>
<pre><code>// omitted code

var Person = React.createClass({
  render: function() {
    var person = this.props.person;
    return (
      &lt;View style={ styles.person }&gt;
        &lt;Image style={ styles.personImage } source={ { uri: person.picture } } /&gt;
        &lt;View style={ styles.personInfo }&gt;
          &lt;Text style={ styles.personName }&gt;
            { person.firstName } { person.lastName }
          &lt;/Text&gt;
          &lt;View style={ styles.personScore }&gt;
            &lt;Text style={ styles.personScoreHeader }&gt;
              WON
            &lt;/Text&gt;
            &lt;Text style={ [styles.personScoreValue, styles.won] }&gt;
              { person.won }
            &lt;/Text&gt;
          &lt;/View&gt;
          &lt;View style={ styles.personScore }&gt;
            &lt;Text style={ styles.personScoreHeader }&gt;
              LOST
            &lt;/Text&gt;
            &lt;Text style={ [styles.personScoreValue, styles.lost] }&gt;
              { person.lost }
            &lt;/Text&gt;
          &lt;/View&gt;
          &lt;View style={ styles.personScore }&gt;
            &lt;Text style={ styles.personScoreHeader }&gt;
              SCORE
            &lt;/Text&gt;
            &lt;Text style={ styles.personScoreValue }&gt;
              { person.score }
            &lt;/Text&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/View&gt;
    )
  }
});

// omitted code

var styles = StyleSheet.create({
  ...,
  person: {
    flex: 1,
    margin: 10,
    borderRadius: 3,
    overflow: &apos;hidden&apos;
  },
  personInfo: {
    borderLeftColor: &apos;rgba( 0, 0, 0, 0.1 )&apos;,
    borderLeftWidth: 1,
    borderRightColor: &apos;rgba( 0, 0, 0, 0.1 )&apos;,
    borderRightWidth: 1,
    borderBottomColor: &apos;rgba( 0, 0, 0, 0.1 )&apos;,
    borderBottomWidth: 1,
    padding: 10,
    alignItems: &apos;center&apos;,
    flexDirection: &apos;row&apos;
  },
  personImage: {
    flex: 1,
    height: 200
  },
  personName: {
    fontSize: 18,
    flex: 1,
    paddingLeft: 5
  },
  personScore: {
    flex: 0.25,
    alignItems: &apos;center&apos;
  },
  personScoreHeader: {
    color: &apos;rgba( 0, 0, 0, 0.3 )&apos;,
    fontSize: 10,
    fontWeight: &apos;bold&apos;
  },
  personScoreValue: {
    color: &apos;rgba( 0, 0, 0, 0.6 )&apos;,
    fontSize: 16
  },
  won: {
    color: &apos;#93C26D&apos;
  },
  lost: {
    color: &apos;#DD4B39&apos;
  }
});
module.exports = facemashTab;
</code></pre><p><img src="http://static.oschina.net/uploads/img/201505/19120300_Q1RG.png" alt=""><br><br>ä½ å¯ä»¥ä»åˆ†æ”¯äºŒæ£€å‡ºåˆ°ç›®å‰è¿™å„¿ä¸ºæ­¢çš„ä»£ç ã€‚<br><br>ç°åœ¨æˆ‘ä»¬å·²ç»è®©ç”¨æˆ·æ˜¾ç¤ºäº†å‡ºæ¥ï¼Œå¯ä»¥ç€æ‰‹åŠ å…¥ç‚¹å‡»æ—¶é—´æ¥è®©ç”¨æˆ·é€‰æ‹©å‡ºè°æ¯”è¾ƒçƒ­é—¨äº†ã€‚<br></p>
<h4 id="æ‰‹æŒ‡è§¦å‡»"><a href="#æ‰‹æŒ‡è§¦å‡»" class="headerlink" title="æ‰‹æŒ‡è§¦å‡»"></a>æ‰‹æŒ‡è§¦å‡»</h4><p> React Native ä¸ºæˆ‘ä»¬æä¾›äº† TouchableHighlight ç»„ä»¶. å®ƒèƒ½è®©æˆ‘ä»¬çš„Viewç»„ä»¶æ­£å¸¸çš„å“åº”è§¦æ‘¸. å½“å®ƒè¢«è§¦æ‘¸æ—¶ï¼Œè¢«å°è£…è§†å›¾çš„é€æ˜åº¦é™ä½äº†. è¿™å°±è®©æˆ‘ä»¬çš„ç»„ä»¶â€œæ„Ÿå®˜ä¸Šâ€æ˜¯å¯ä»¥è§¦æ‘¸çš„äº†.<br><br>æˆ‘ä»¬å‡†å¤‡ç”¨è¿™ä¸ªä¸œè¥¿å°è£…ä¸ªäººä¿¡æ¯éƒ¨åˆ†. å°†æ¥æˆ‘ä»¬å¯èƒ½æƒ³è¦åˆ›å»ºå®ƒæ¥è®©ç”¨æˆ·å¯ä»¥åœ¨ä¸Šé¢ç‚¹å‡»ï¼Œä»è€Œçœ‹åˆ°æ›´å¤šæœ‰å…³é‚£ä¸ªäººçš„å›¾ç‰‡.<br></p>
<pre><code>// omitted code

var Person = React.createClass({
  render: function() {
    var person = this.props.person;
    return (
      &lt;View style={ styles.person }&gt;
        &lt;Image style={ styles.personImage } source={ { uri: person.picture } } /&gt;
        &lt;TouchableHighlight&gt;
          &lt;View style={ styles.personInfo }&gt;
            &lt;Text style={ styles.personName }&gt;
              { person.firstName } { person.lastName }
            &lt;/Text&gt;
            &lt;View style={ styles.personScore }&gt;
              &lt;Text style={ styles.personScoreHeader }&gt;
                WON
              &lt;/Text&gt;
              &lt;Text style={ [styles.personScoreValue, styles.won] }&gt;
                { person.won }
              &lt;/Text&gt;
            &lt;/View&gt;
            &lt;View style={ styles.personScore }&gt;
              &lt;Text style={ styles.personScoreHeader }&gt;
                LOST
              &lt;/Text&gt;
              &lt;Text style={ [styles.personScoreValue, styles.lost] }&gt;
                { person.lost }
              &lt;/Text&gt;
            &lt;/View&gt;
            &lt;View style={ styles.personScore }&gt;
              &lt;Text style={ styles.personScoreHeader }&gt;
                SCORE
              &lt;/Text&gt;
              &lt;Text style={ styles.personScoreValue }&gt;
                { person.score }
              &lt;/Text&gt;
            &lt;/View&gt;
          &lt;/View&gt;
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
    )
  }
});

// omitted code
</code></pre><p>å½“ä½ é‡æ–°è½½å…¥æˆ‘ä»¬æ‰€åšçš„ä¿®æ”¹å¹¶ä¸”åœ¨ç”¨æˆ·ä¿¡æ¯ä¸Šç‚¹å‡»ï¼Œä¼šå‘ç°å®ƒèµ·ä½œç”¨äº† - ä½†çœ‹èµ·æ¥æœ‰ç‚¹ç³Ÿç³•. è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰åœ¨è§†å›¾ä¸Šè®¾ç½®ä¸€ä¸ªèƒŒæ™¯é¢œè‰²ï¼Œå…¶æ„ä¹‰æ˜¯è®©æ•´ä¸ªç»„ä»¶å˜æš—.<br></p>
<pre><code>// omitted code

var styles = StyleSheet.create({
  ...,
  person: {
    flex: 1,
    margin: 10,
    borderRadius: 3,
    overflow: &apos;hidden&apos;
  },
  personInfo: {
    backgroundColor: &apos;#fff&apos;,
    borderLeftColor: &apos;rgba( 0, 0, 0, 0.1 )&apos;,
    borderLeftWidth: 1,
    borderRightColor: &apos;rgba( 0, 0, 0, 0.1 )&apos;,
    borderRightWidth: 1,
    borderBottomColor: &apos;rgba( 0, 0, 0, 0.1 )&apos;,
    borderBottomWidth: 1,
    padding: 10,
    alignItems: &apos;center&apos;,
    flexDirection: &apos;row&apos;
  },
  ...
});

// omitted code
</code></pre><p>ç°åœ¨å½“ä½ åœ¨ä¿¡æ¯ç›’å­ä¸Šç‚¹å‡»æ—¶ï¼Œå®ƒå°±èƒ½æ­£ç¡®å·¥ä½œäº†!<br><br>TouchableHighlight ä¸ºæˆ‘ä»¬æä¾›äº† TouchableWithoutFeedback ä¹Ÿæœ‰çš„ä¸€ä¸ªç›¸åŒçš„äº‹ä»¶ã€‚<br>TouchableWithoutFeedback ä¸åº”è¯¥è¢«ä½¿ç”¨ï¼Œå› ä¸ºæ‰€æœ‰è¢«è§¦æ‘¸çš„ä¸œè¥¿éƒ½åº”è¯¥æä¾›æŸäº›ç±»å‹çš„è§†è§‰ä¸Šå¯è§çš„åé¦ˆã€‚<br><br>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ onPress - å®ƒä¼šåœ¨ç”¨æˆ·å·²ç»é‡Šæ”¾äº†è§¦æ‘¸ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è¢«æ‰“æ–­ (æ¯”å¦‚è¿˜åœ¨è®©ä»–ä»¬çš„æ‰‹æŒ‡åœ¨å¯è§¦æ‘¸çš„åŒºåŸŸç§»åŠ¨)æ—¶è¢«è°ƒç”¨ã€‚<br><br>æˆ‘ä»¬éœ€è¦å‘ä¸‹å°†ä¸€ä¸ªå±æ€§ä¼ é€’åˆ°æˆ‘ä»¬çš„ Person ç»„ä»¶ï¼Œå½“å…¶è¢«è§¦æ‘¸åˆ°æ—¶ã€‚<br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View,
  Image,
  ActivityIndicatorIOS,
  TouchableHighlight
  } = React;

var Person = React.createClass({
  render: function() {
    var person = this.props.person;
    return (
      &lt;View style={ styles.person }&gt;
        &lt;Image style={ styles.personImage } source={ { uri: person.picture } } /&gt;
        &lt;TouchableHighlight onPress={ this.props.onPress }&gt;
          ...
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
    )
  }
});

var facemashTab = React.createClass({
  ...,
  onPersonPress: function() {
    this.setState({
      currentIndex: this.state.currentIndex + 1
    });
  },
  ...,
  render: function() {
    var contents;
    if (!this.state.list.length) {
      contents = (
        &lt;View style={ styles.loading }&gt;
          &lt;Text style={ styles.loadingText }&gt;Loading&lt;/Text&gt;
          &lt;ActivityIndicatorIOS /&gt;
        &lt;/View&gt;
      )
    } else {
      var { list, currentIndex } = this.state;
      var record = list[currentIndex];
      var people = record.users.map(person =&gt; &lt;Person person={ person } onPress={ this.onPersonPress } /&gt;);
      contents = (
        &lt;View style={ styles.content }&gt;
          { people }
        &lt;/View&gt;
      )
    }
    return (
      &lt;View style={ styles.container }&gt;
        &lt;View style={ styles.header }&gt;
          &lt;Text style={ styles.headerText }&gt;FaceMash&lt;/Text&gt;
        &lt;/View&gt;
        { contents }
      &lt;/View&gt;
    );
  }
});

// omitted code
</code></pre><p>å¦‚ä½ æ‰€è§ï¼Œåœ¨ä½ çš„ä¸»TABç»„ä»¶é‡Œé¢ç°åœ¨æœ‰äº†ä¸€ä¸ª onPersonPress å±æ€§. ç„¶åæˆ‘ä»¬å°±å¯ä»¥å°†è¿™ä¸ªä¼ åˆ° Person ç»„ä»¶é‚£å„¿, è€Œå®ƒä»¬ä¼šåœ¨ TouchableHighlight åŒºåŸŸè¢«è§¦æ‘¸æ—¶è°ƒç”¨åˆ°å®ƒ. è€Œåæˆ‘ä»¬å¯ä»¥å¢åŠ ç´¢å¼•ï¼Œè§†å›¾å°±ä¼šç”¨æ–°çš„äººç‰©é›†åˆæ¥è¿›è¡Œé‡æ–°æ¸²æŸ“.<br><br><img src="http://static.oschina.net/uploads/img/201505/19120302_u6Ii.png" alt=""><br><br>è¿™æ˜¯å¯¹ facemash çš„ tab æ‰€åšçš„æœ€åä¿®æ”¹. å¦‚æœä½ å¸Œæœ›èµ°å¾—æ›´è¿œï¼Œä¸‹é¢æ˜¯ä¸€äº›å¥½ä¸»æ„<br><br>1.å½“é€‰å–äº†ä¸€ä¸ªäººç‰©æ—¶å¯ä»¥å»è¯·æ±‚ä¸€ä¸ª REST çš„ç«¯ç‚¹<br><br>2.æ£€æŸ¥æ˜¯å¦å·²ç»åˆ°è¾¾äº†åˆ—è¡¨çš„å°½å¤´ï¼Œæ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯<br><br>3.è®©ç”¨æˆ·å¯ä»¥åœ¨ç…§ç‰‡ä¸Šé¢ç‚¹å‡»æ¥çœ‹æ›´å¤šçš„ç…§ç‰‡<br><br>ä½ å¯ä»¥åœ¨åˆ†æ”¯ä¸‰ä¸Šé¢æ£€å‡º facemash çš„ tab çš„æœ€ç»ˆä»£ç ã€‚<br></p>
<h3 id="æ¶ˆæ¯"><a href="#æ¶ˆæ¯" class="headerlink" title="æ¶ˆæ¯"></a>æ¶ˆæ¯</h3><hr>
<p>æˆ‘ä»¬ç°åœ¨å°†æ³¨æ„åŠ›è½¬ç§»åˆ°æ¶ˆæ¯tabä¸Šäº†ã€‚è¿™ä¸€åŠŸèƒ½æœ‰ç‚¹åƒ iMessage - å®ƒæ˜¯æœ‰å…³ç”¨æˆ·çš„ä¸€ä¸ªå¯æ»šåŠ¨åˆ—è¡¨ï¼Œåœ¨å…¶ä¸­ä¸€é¡¹ä¸Šé¢ç‚¹å‡»å°†ä¼šå¯¼èˆªè‡³ä¸€ä¸ªé’ˆå¯¹é‚£ä¸ªç”¨æˆ·çš„èŠå¤©è§†å›¾ã€‚<br><br>å¹¸è¿çš„æ˜¯ï¼Œ React Native ç»™äº†æˆ‘ä»¬ ListView ç»„ä»¶ï¼Œå®ƒèƒ½è®©æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªç®€å•çš„ï¼Œï¼ˆä½¿ç”¨äº†ScrollViewçš„ï¼‰å¯æ»šåŠ¨åˆ—è¡¨ï¼Œè€Œä¸”èƒ½é«˜æ•ˆçš„æ˜¾ç¤ºå‡ºåˆ—è¡¨(åªå¯¹å‘ç”Ÿå˜åŒ–çš„è¡Œè¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œå¹¶é™åˆ¶äº†æ¯æ¬¡äº‹ä»¶å¾ªç¯æ¸²æŸ“çš„è¡Œåªæœ‰ä¸€ä¸ª)ã€‚<br><br>ä¸ºäº†ä½¿ç”¨ä¸€ä¸ª ListView, æˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªæ•°æ®æº. æ•°æ®å…ƒè®©æˆ‘ä»¬å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªå®šåˆ¶çš„å‡½æ•°æ¥æ£€æŸ¥ä¸€è¡Œæ˜¯ä¸æ˜¯å‘ç”Ÿäº†å˜åŒ– (å¯ä»¥æƒ³åˆ°å®ƒç±»ä¼¼äº toshouldComponentUpdate) ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠJSONæ•°æ®æ”¾åˆ°å®ƒé‡Œé¢å». æ•°æ®æºå­˜åœ¨äºæˆ‘ä»¬çš„çŠ¶æ€å¯¹è±¡ä¹‹ä¸­ã€‚<br><br>åœ¨ thetabs/folder ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º Messages.js çš„æ–°æ–‡ä»¶ <br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View,
  Image
  } = React;

var messagesTab = React.createClass({
  render: function() {
    return (
      &lt;View style={ styles.container }&gt;
        &lt;Text&gt;Messages!&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;
  }
});

module.exports = messagesTab;
</code></pre><p>ä½ åŒæ—¶éœ€è¦ç¼–è¾‘ editindex.ios.jsto æ¥æŒ‡å‘æ–°åˆ›å»ºçš„ç»„ä»¶ - <br></p>
<pre><code>// omitted code

var MessagesTab = require(&apos;./tabs/Messages&apos;);

var facemash = React.createClass({
  getInitialState() {
    return {
      selectedTab: &apos;faceMash&apos;
    }
  },
  changeTab(tabName) {
    StatusBarIOS.setStyle(tabName === &apos;faceMash&apos; ? 1 : 0);
    this.setState({
      selectedTab: tabName
    });
  },
  render: function() {
    return (
      &lt;TabBarIOS&gt;
        ...
        &lt;TabBarIOS.Item
          title=&quot;Messages&quot;
          icon={ require(&apos;image!messages&apos;) }
          onPress={ () =&gt; this.changeTab(&apos;messages&apos;) }
          selected={ this.state.selectedTab === &apos;messages&apos; }&gt;
          &lt;MessagesTab /&gt;
        &lt;/TabBarIOS.Item&gt;
        ...
      &lt;/TabBarIOS&gt;
    );
  }
});

// omitted code
</code></pre><p>æ ¹æ®æˆ‘ä¸Šé¢æ‰€è¯´çš„ï¼Œæˆ‘ä»¬åˆ—è¡¨è§†å›¾éœ€è¦çš„ä¸€ä¸ªæ•°æ®æºã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡ viaListView.DataSource è®¿é—®ã€‚æˆ‘ä»¬å°†ä¼šåœ¨ ourgetInitialState èµ‹åˆå€¼ã€‚ <br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View,
  Image,
  ListView
  } = React;

var messagesTab = React.createClass({
  getInitialState: function() {
    return {
      dataSource: new ListView.DataSource({
        rowHasChanged: (r1, r2) =&gt; r1 !== r2
      })
    };
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;Text&gt;Messages!&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;
  }
});

module.exports = messagesTab;
</code></pre><p>ç°åœ¨æˆ‘ä»¬å·²ç»è·å–åˆ°æ•°æ®æºï¼Œéœ€è¦ä»æœåŠ¡å™¨è·å–ä¸€äº›æ•°æ®ï¼ŒçŸ¥é“æˆ‘ä»¬è·Ÿè°åœ¨é€šä¿¡ã€‚æˆ‘å·²ç»åŒ…å«åœ¨ä¸€ä¸ªç«¯ç‚¹é…ç½®ä¸­ï¼Œåœ¨ thestep-threebranch æ˜¾å¾—æ›´çŸ­ã€‚ <br></p>
<pre><code>// omitted code

var messagesTab = React.createClass({
  componentWillMount: function() {
    fetch(&apos;http://localhost:8882/rest/messages&apos;)
      .then(res =&gt; res.json())
      .then(res =&gt; this.updateDataSource(res));
  },
  getInitialState: function() {
    return {
      dataSource: new ListView.DataSource({
        rowHasChanged: (r1, r2) =&gt; r1 !== r2
      })
    };
  },
  updateDataSource: function(data){
    this.setState({
      dataSource: this.state.dataSource.cloneWithRows(data)
    })
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;Text&gt;Messages!&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});

// omitted code
</code></pre><p> è¿™ä¸ªä¼šè·å–åˆ°æˆ‘ä»¬çš„æ•°æ®ï¼Œç„¶åæ›´æ–°æˆ‘ä»¬çš„æ•°æ®æºã€‚è¿™äº›å¤„ç†å®Œä¹‹åï¼Œæ— è®ºä»€ä¹ˆæ—¶å€™æˆ‘ä»¬çš„æ•°æ®æºæ›´æ–°äº†ï¼Œæˆ‘ä»¬çš„è§†å›¾ä¹Ÿä¼šæ›´æ–°çš„ã€‚ <br><br>ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹ ListViewcomponentã€‚ç®€å•çš„è¯´ï¼Œ ç»„ä»¶éœ€è¦ä¸¤ä¸ªå±æ€§ -dataSource(æˆ‘ä»¬å·²ç»æœ‰äº†) ã€‚<br><br> andrenderRow.renderRow æ˜¯ä¸€ä¸ªéœ€è¦è¿”å›ä¸€ä¸ª React å…ƒç´ çš„å‡½æ•°ã€‚åœ¨æ•°æ®æºä¸­æ¯ä¸€è¡Œéƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œç„¶åä½œä¸ºå‚æ•°ä¸ºæ¯ä¸€è¡Œä¼ é€’åˆé€‚çš„æ•°æ®ã€‚ <br></p>
<pre><code>// omitted code

var messagesTab = React.createClass({
  ...,
  renderRow: function (){
    return (
      &lt;View&gt;
        &lt;Text&gt;Row goes here!&lt;/Text&gt;
      &lt;/View&gt;
    );
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;ListView dataSource={ this.state.dataSource } renderRow={ this.renderRow } /&gt;
      &lt;/View&gt;
    );
  }
});

// omitted code
</code></pre><p>è¿™ä¸ªä¼šè·å–åˆ°æˆ‘ä»¬çš„æ•°æ®ï¼Œç„¶åæ›´æ–°æˆ‘ä»¬çš„æ•°æ®æºã€‚è¿™äº›å¤„ç†å®Œä¹‹åï¼Œæ— è®ºä»€ä¹ˆæ—¶å€™æˆ‘ä»¬çš„æ•°æ®æºæ›´æ–°äº†ï¼Œæˆ‘ä»¬çš„è§†å›¾ä¹Ÿä¼šæ›´æ–°çš„ã€‚ <br><br>ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹ ListViewcomponentã€‚ç®€å•çš„è¯´ï¼Œ ç»„ä»¶éœ€è¦ä¸¤ä¸ªå±æ€§ -dataSource(æˆ‘ä»¬å·²ç»æœ‰äº†) ã€‚<br><br>andrenderRow.renderRow æ˜¯ä¸€ä¸ªéœ€è¦è¿”å›ä¸€ä¸ª React å…ƒç´ çš„å‡½æ•°ã€‚åœ¨æ•°æ®æºä¸­æ¯ä¸€è¡Œéƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œç„¶åä½œä¸ºå‚æ•°ä¸ºæ¯ä¸€è¡Œä¼ é€’åˆé€‚çš„æ•°æ®ã€‚ <br></p>
<pre><code>// omitted code

var messagesTab = React.createClass({
  ...,
  renderRow: function (){
    return (
      &lt;View&gt;
        &lt;Text&gt;Row goes here!&lt;/Text&gt;
      &lt;/View&gt;
    );
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;ListView dataSource={ this.state.dataSource } renderRow={ this.renderRow } /&gt;
      &lt;/View&gt;
    );
  }
});

// omitted code
</code></pre><p><img src="http://static.oschina.net/uploads/img/201505/19120304_NI1m.png" alt=""><br><br>æˆ‘ä»¬ç°åœ¨æ¯ä¸€è¡Œéƒ½å¯ä»¥æ˜¾ç¤ºæ­£ç¡®çš„æ•°æ®ã€‚æ¯ä¸ªé¡¹çš„å¯¹è±¡éƒ½ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ ourrenderRowfunctionã€‚<br></p>
<pre><code>// omitted code

var messagesTab = React.createClass({
  ...,
  renderRow: function (person){
    return (
      &lt;View&gt;
        &lt;Text&gt;{ person.user.firstName } { person.user.lastName }&lt;/Text&gt;
      &lt;/View&gt;
    );
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;ListView dataSource={ this.state.dataSource } renderRow={ this.renderRow } /&gt;
      &lt;/View&gt;
    );
  }
});

// omitted code
</code></pre><p>æˆ‘ä»¬ç»§ç»­æˆ‘ä»¬çš„æ­¥éª¤ï¼Œåœ¨è¿™é‡Œæ·»åŠ å…¶ä»–çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å›¾ç‰‡å’Œæœ€æ–°æ¥æ”¶åˆ°çš„ä¿¡æ¯ã€‚ <br><br>åœ¨ thetabs/folder ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º Messages.js çš„æ–°æ–‡ä»¶<br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View,
  Image
  } = React;

var messagesTab = React.createClass({
  render: function() {
    return (
      &lt;View style={ styles.container }&gt;
        &lt;Text&gt;Messages!&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;
  }
});

module.exports = messagesTab;
</code></pre><p>ä½ åŒæ—¶éœ€è¦ç¼–è¾‘ editindex.ios.jsto æ¥æŒ‡å‘æ–°åˆ›å»ºçš„ç»„ä»¶ -<br></p>
<pre><code>// omitted code

var MessagesTab = require(&apos;./tabs/Messages&apos;);

var facemash = React.createClass({
  getInitialState() {
    return {
      selectedTab: &apos;faceMash&apos;
    }
  },
  changeTab(tabName) {
    StatusBarIOS.setStyle(tabName === &apos;faceMash&apos; ? 1 : 0);
    this.setState({
      selectedTab: tabName
    });
  },
  render: function() {
    return (
      &lt;TabBarIOS&gt;
        ...
        &lt;TabBarIOS.Item
          title=&quot;Messages&quot;
          icon={ require(&apos;image!messages&apos;) }
          onPress={ () =&gt; this.changeTab(&apos;messages&apos;) }
          selected={ this.state.selectedTab === &apos;messages&apos; }&gt;
          &lt;MessagesTab /&gt;
        &lt;/TabBarIOS.Item&gt;
        ...
      &lt;/TabBarIOS&gt;
    );
  }
});

// omitted code
</code></pre><p>æ ¹æ®æˆ‘ä¸Šé¢æ‰€è¯´çš„ï¼Œæˆ‘ä»¬åˆ—è¡¨è§†å›¾éœ€è¦çš„ä¸€ä¸ªæ•°æ®æºã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡ viaListView.DataSource è®¿é—®ã€‚æˆ‘ä»¬å°†ä¼šåœ¨ ourgetInitialState èµ‹åˆå€¼ã€‚<br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View,
  Image,
  ListView
  } = React;

var messagesTab = React.createClass({
  getInitialState: function() {
    return {
      dataSource: new ListView.DataSource({
        rowHasChanged: (r1, r2) =&gt; r1 !== r2
      })
    };
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;Text&gt;Messages!&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;
  }
});

module.exports = messagesTab;
</code></pre><p>ç°åœ¨æˆ‘ä»¬å·²ç»è·å–åˆ°æ•°æ®æºï¼Œéœ€è¦ä»æœåŠ¡å™¨è·å–ä¸€äº›æ•°æ®ï¼ŒçŸ¥é“æˆ‘ä»¬è·Ÿè°åœ¨é€šä¿¡ã€‚æˆ‘å·²ç»åŒ…å«åœ¨ä¸€ä¸ªç«¯ç‚¹é…ç½®ä¸­ï¼Œåœ¨ thestep-threebranch æ˜¾å¾—æ›´çŸ­ã€‚<br></p>
<pre><code>// omitted code

var messagesTab = React.createClass({
  componentWillMount: function() {
    fetch(&apos;http://localhost:8882/rest/messages&apos;)
      .then(res =&gt; res.json())
      .then(res =&gt; this.updateDataSource(res));
  },
  getInitialState: function() {
    return {
      dataSource: new ListView.DataSource({
        rowHasChanged: (r1, r2) =&gt; r1 !== r2
      })
    };
  },
  updateDataSource: function(data){
    this.setState({
      dataSource: this.state.dataSource.cloneWithRows(data)
    })
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;Text&gt;Messages!&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});

// omitted code
</code></pre><p>è¿™ä¸ªä¼šè·å–åˆ°æˆ‘ä»¬çš„æ•°æ®ï¼Œç„¶åæ›´æ–°æˆ‘ä»¬çš„æ•°æ®æºã€‚è¿™äº›å¤„ç†å®Œä¹‹åï¼Œæ— è®ºä»€ä¹ˆæ—¶å€™æˆ‘ä»¬çš„æ•°æ®æºæ›´æ–°äº†ï¼Œæˆ‘ä»¬çš„è§†å›¾ä¹Ÿä¼šæ›´æ–°çš„ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹ ListViewcomponentã€‚ç®€å•çš„è¯´ï¼Œ ç»„ä»¶éœ€è¦ä¸¤ä¸ªå±æ€§ -dataSource(æˆ‘ä»¬å·²ç»æœ‰äº†) ã€‚andrenderRow.renderRow æ˜¯ä¸€ä¸ªéœ€è¦è¿”å›ä¸€ä¸ª React å…ƒç´ çš„å‡½æ•°ã€‚åœ¨æ•°æ®æºä¸­æ¯ä¸€è¡Œéƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œç„¶åä½œä¸ºå‚æ•°ä¸ºæ¯ä¸€è¡Œä¼ é€’åˆé€‚çš„æ•°æ®ã€‚<br></p>
<pre><code>// omitted code

var messagesTab = React.createClass({
  ...,
  renderRow: function (){
    return (
      &lt;View&gt;
        &lt;Text&gt;Row goes here!&lt;/Text&gt;
      &lt;/View&gt;
    );
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;ListView dataSource={ this.state.dataSource } renderRow={ this.renderRow } /&gt;
      &lt;/View&gt;
    );
  }
});

// omitted code
</code></pre><p>æˆ‘ä»¬ç°åœ¨æ¯ä¸€è¡Œéƒ½å¯ä»¥æ˜¾ç¤ºæ­£ç¡®çš„æ•°æ®ã€‚æ¯ä¸ªé¡¹çš„å¯¹è±¡éƒ½ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ ourrenderRowfunctionã€‚<br></p>
<pre><code>// omitted code

var messagesTab = React.createClass({
  ...,
  renderRow: function (person){
    return (
      &lt;View&gt;
        &lt;Text&gt;{ person.user.firstName } { person.user.lastName }&lt;/Text&gt;
      &lt;/View&gt;
    );
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;ListView dataSource={ this.state.dataSource } renderRow={ this.renderRow } /&gt;
      &lt;/View&gt;
    );
  }
});

// omitted code
</code></pre><p>æˆ‘ä»¬ç»§ç»­æˆ‘ä»¬çš„æ­¥éª¤ï¼Œåœ¨è¿™é‡Œæ·»åŠ å…¶ä»–çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å›¾ç‰‡å’Œæœ€æ–°æ¥æ”¶åˆ°çš„ä¿¡æ¯ã€‚<br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View,
  Image,
  ListView,
  PixelRatio
  } = React;

function prettyTime(timestamp) {
  var createdDate = new Date(timestamp);
  var distance = Math.round( ( +new Date() - timestamp ) / 60000 );
  var hours = (&apos;0&apos; + createdDate.getHours()).slice(-2);
  var minutes = (&apos;0&apos; + createdDate.getMinutes()).slice(-2);
  var month = (&apos;0&apos; + (createdDate.getMonth() + 1)).slice(-2);
  var date = (&apos;0&apos; + createdDate.getDate()).slice(-2);
  var year = createdDate.getFullYear();
  var string;
  if (distance &lt; 1440) {
    string = [hours, minutes].join(&apos;:&apos;);
  } else if (distance &lt; 2879) {
    string = &apos;Yesterday&apos;;
  } else {
    string = [date, month, year].join(&apos;/&apos;);
  }
  return string;
}

var messagesTab = React.createClass({
  ...,
  renderRow: function (person){
    var time = prettyTime(person.lastMessage.timestamp);
    return (
      &lt;View&gt;
        &lt;View style={ styles.row }&gt;
          &lt;Image
            source={ { uri: person.user.picture } }
            style={ styles.cellImage }
            /&gt;
          &lt;View style={ styles.textContainer }&gt;
            &lt;Text style={ styles.name } numberOfLines={ 1 }&gt;
              { person.user.firstName } { person.user.lastName }
            &lt;/Text&gt;
            &lt;Text style={ styles.time } numberOfLines={ 1 }&gt;
              { time }
            &lt;/Text&gt;
            &lt;Text style={ styles.lastMessage } numberOfLines={ 1 }&gt;
              { person.lastMessage.contents }
            &lt;/Text&gt;
          &lt;/View&gt;
        &lt;/View&gt;
        &lt;View style={ styles.cellBorder } /&gt;
      &lt;/View&gt;
    );
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;ListView dataSource={ this.state.dataSource } renderRow={ this.renderRow } /&gt;
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;
  },
  row: {
    flex: 1,
    alignItems: &apos;center&apos;,
    backgroundColor: &apos;white&apos;,
    flexDirection: &apos;row&apos;,
    padding: 10
  },
  textContainer: {
    flex: 1
  },
  cellImage: {
    height: 60,
    borderRadius: 30,
    marginRight: 10,
    width: 60
  },
  time: {
    position: &apos;absolute&apos;,
    top: 0,
    right: 0,
    fontSize: 12,
    color: &apos;#cccccc&apos;
  },
  name: {
    flex: 1,
    fontSize: 16,
    fontWeight: &apos;bold&apos;,
    marginBottom: 2
  },
  lastMessage: {
    color: &apos;#999999&apos;,
    fontSize: 12
  },
  cellBorder: {
    backgroundColor: &apos;rgba(0, 0, 0, 0.1)&apos;,
    height: 1 / PixelRatio.get(),
    marginLeft: 4
  }
});

module.exports = messagesTab;
</code></pre><p><img src="http://static.oschina.net/uploads/img/201505/19120304_W92q.png" alt=""><br><br>Looking good! <br><br>ä½ ä¼šæ³¨æ„åˆ°æˆ‘ä»¬åœ¨æ ·å¼è¡¨ä¸­ä½¿ç”¨äº†ä¸€ä¸ªå«åš PixelRatio çš„ä¸œè¥¿. ç”¨è¿™ä¸ªæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°èƒ½å¤Ÿæ‹¿æ¥åœ¨è®¾å¤‡ä¸Šæ˜¾ç¤ºçš„æœ€ç»†çš„çº¿. ä¸€èˆ¬ï¼Œæˆ‘ä»¬ä¼šç”¨ 1px ä½œä¸ºæœ€ç»†çš„è¾¹æ¡†ï¼Œä½†æ˜¯ React Native ä¸­æ²¡æœ‰ px çš„æ¦‚å¿µã€‚<br><br>ç°åœ¨æˆ‘ä»¬å¯ä»¥æ·»åŠ ä»£ç æ¥å¤„ç†åœ¨ç”¨æˆ·é¡¹ä¸Šé¢çš„è§¦æ‘¸äº†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ NavigatorIOS ç»„ä»¶ - ä½ ä¼šåœ¨è¯¸å¦‚ iMessage å’Œ Notes è¿™æ ·çš„åº”ç”¨ä¸Šçœ‹åˆ°è¿™ä¸ªä¸œè¥¿. å®ƒèƒ½è®©æˆ‘ä»¬è·å¾—è§†å›¾ä¹‹é—´çš„å›é€€åŠŸèƒ½ï¼Œé¡¶ç«¯çš„å¯¼èˆªæ¡ä¹Ÿä¼šå¦‚æ­¤ã€‚<br><br>å®é™…ä¸Šæˆ‘ä»¬å‡†å¤‡åˆ›å»ºä¸€ä¸ªæ–°çš„ React ç»„ä»¶æ¥è£…è¿™ä¸ªå¯¼èˆªã€‚è¿™æ˜¯å› ä¸ºç»„ä»¶éœ€è¦å¯¹ä¸€ä¸ªåˆå§‹çš„ React ç»„ä»¶è¿›è¡Œæ¸²æŸ“ã€‚<br><br>æˆ‘ä»¬ä¼šå°† messagesTab ç»„ä»¶æ”¹ç§°åš messageListï¼Œå¹¶åˆ›å»ºå¦å¤–ä¸€ä¸ªå«åš messagesTab çš„ç»„ä»¶<br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View,
  Image,
  ListView,
  PixelRatio,
  NavigatorIOS
  } = React;
// omitted code

var messageList = React.createClass({
  ...,
  render: function(){
    return (
      &lt;View style={ &gt;
        &lt;ListView dataSource={ this.state.dataSource } renderRow={ this.renderRow } /&gt;
      &lt;/View&gt;
    );
  }
});

var messagesTab = React.createClass({
  render: function() {
    return (
      &lt;NavigatorIOS
        style={ styles.container }
        initialRoute={
          {
            title: &apos;Messages&apos;,
            component: messageList
          }
        }
        /&gt;
    );
  }
});

// omitted code
</code></pre><p><img src="http://static.oschina.net/uploads/img/201505/19120304_kG1d.png" alt=""><br><br>çœ‹çœ‹å·²ç»å˜å¾—æ›´ä¸“ä¸šäº†å“¦ã€‚å°±åƒæˆ‘ä»¬åœ¨ facemash çš„ Tab ä¸­æ‰€åšçš„ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å‘è¡Œä¸­æ·»åŠ è§¦æ‘¸æ—¶é«˜äº®æ•ˆæœï¼ˆ TouchableHighlightï¼‰ äº†ã€‚<br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View,
  Image,
  ListView,
  PixelRatio,
  NavigatorIOS,
  TouchableHighlight
  } = React;

// omitted code

var messageList = React.createClass({
  componentWillMount: function() {
    fetch(&apos;http://localhost:8882/rest/messages&apos;)
      .then(res =&gt; res.json())
      .then(res =&gt; this.updateDataSource(res));
  },
  getInitialState: function() {
    return {
      dataSource: new ListView.DataSource({
        rowHasChanged: (r1, r2) =&gt; r1 !== r2
      })
    };
  },
  updateDataSource: function(data){
    this.setState({
      dataSource: this.state.dataSource.cloneWithRows(data)
    })
  },
  renderRow: function (person){
    var time = prettyTime(person.lastMessage.timestamp);
    return (
      &lt;View&gt;
        &lt;TouchableHighlight&gt;
          &lt;View style={ styles.row }&gt;
            &lt;Image
              source={ { uri: person.user.picture } }
              style={ styles.cellImage }
              /&gt;
            &lt;View style={ styles.textContainer }&gt;
              &lt;Text style={ styles.name } numberOfLines={ 1 }&gt;
                { person.user.firstName } { person.user.lastName }
              &lt;/Text&gt;
              &lt;Text style={ styles.time } numberOfLines={ 1 }&gt;
                { time }
              &lt;/Text&gt;
              &lt;Text style={ styles.lastMessage } numberOfLines={ 1 }&gt;
                { person.lastMessage.contents }
              &lt;/Text&gt;
            &lt;/View&gt;
          &lt;/View&gt;
          &lt;View style={ styles.cellBorder } /&gt;
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
    );
  },
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;ListView dataSource={ this.state.dataSource } renderRow={ this.renderRow } /&gt;
      &lt;/View&gt;
    );
  }
});

// omitted code
</code></pre><p>é‡æ–°åŠ è½½ç„¶åï¼Œä½ ä¼šæ”¶åˆ°ä¸€ä¸ªé”™è¯¯ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä¼ äº†ä¸¤ä¸ªå­ç»„ä»¶åˆ° TouchableHighlightï¼Œä½†å®ƒåªèƒ½å¾ˆå¥½çš„æ‹¿ä¸€ä¸ªæ¥è¿›è¡Œæ˜¾ç¤ºã€‚ä¸è¦æ‹…å¿ƒå•¦ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠè¿™ä¿©å­ç»„ä»¶å°è£…åˆ°å¦å¤–ä¸€ä¸ª View ç»„ä»¶ä¸­æ¥è§£å†³é—®é¢˜å•Šã€‚<br></p>
<pre><code>// omitted code

var messageList = React.createClass({
  ...,
  renderRow: function (person){
    var time = prettyTime(person.lastMessage.timestamp);
    return (
      &lt;View&gt;
        &lt;TouchableHighlight&gt;
          &lt;View&gt;
            &lt;View style={ styles.row }&gt;
              &lt;Image
                source={ { uri: person.user.picture } }
                style={ styles.cellImage }
                /&gt;
              &lt;View style={ styles.textContainer }&gt;
                &lt;Text style={ styles.name } numberOfLines={ 1 }&gt;
                  { person.user.firstName } { person.user.lastName }
                &lt;/Text&gt;
                &lt;Text style={ styles.time } numberOfLines={ 1 }&gt;
                  { time }
                &lt;/Text&gt;
                &lt;Text style={ styles.lastMessage } numberOfLines={ 1 }&gt;
                  { person.lastMessage.contents }
                &lt;/Text&gt;
              &lt;/View&gt;
            &lt;/View&gt;
            &lt;View style={ styles.cellBorder } /&gt;
          &lt;/View&gt;
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
    );
  },
  ...
});

// omitted code
</code></pre><p>ç°åœ¨ï¼Œå½“æˆ‘ä»¬åœ¨ä¸€è¡Œä¸Šé¢è§¦æ‘¸æ—¶ï¼Œå°±ä¼šæ”¶åˆ°æˆ‘ä»¬é¢„æœŸçš„æ•ˆæœäº†ã€‚ç­‰ç­‰ - æˆ‘ä»¬çš„åº•éƒ¨è¾¹æ¡†çœ‹èµ·æ¥æ€ªæ€ªçš„ï¼è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ rgba å€¼ã€‚æ•´ä¸ªè§†å›¾çš„èƒŒæ™¯é¢œè‰²æ­£åœ¨å‘ç”Ÿå˜åŒ–ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬çš„è¾¹æ¡†éšåä¼šå˜å¾—æ›´æš—ã€‚ä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒä¸€ä¸ªåå…­è¿›åˆ¶å€¼çš„ã€‚<br></p>
<pre><code>var styles = StyleSheet.create({
  ...,
  cellBorder: {
    backgroundColor: &apos;#F2F2F2&apos;,
    height: 1 / PixelRatio.get(),
    marginLeft: 4
  }
});
</code></pre><p>å¦‚ä¸Šæ‰€è¿°çš„ä»£ç ä½ å¯ä»¥åœ¨åˆ†æ”¯å››ä¸­çœ‹åˆ°ã€‚<br></p>
<h3 id="æŒ‰ä¸‹å’Œå¼¹å‡º"><a href="#æŒ‰ä¸‹å’Œå¼¹å‡º" class="headerlink" title="æŒ‰ä¸‹å’Œå¼¹å‡º"></a>æŒ‰ä¸‹å’Œå¼¹å‡º</h3><hr>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»è®©ä¸»åˆ—è¡¨æœ‰äº†æ ·å¼ï¼Œå¯ä»¥æ¥å¤„ç†ç”¨æˆ·è§¦æ‘¸æ—¶å¯¼èˆªå‘ç”Ÿçš„å˜åŒ–äº†ã€‚<br>]]<br>NavigatorIOS è®©æˆ‘ä»¬å¯ä»¥åœ¨æƒ³è¦æ”¹å˜å½“å‰çš„è·¯ç”±æ—¶ï¼Œâ€œæŒ‰ä¸‹â€åˆ°ç»„ä»¶çš„é‡Œé¢å»ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å­ç»„ä»¶ä»¥åŠ messagList ä¸­èƒ½æœ‰æŸäº›æ–¹å¼èƒ½è®¿é—®åˆ° NavigatorIOS å®ä½“ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸ªå·²ç»ä»¥å«åš navigator çš„å±æ€§ä¼ å…¥äº†ã€‚<br><br>è®©æˆ‘ä»¬å‘ TouchableHighlight ç»„ä»¶åŠ å…¥ä¸€ä¸ª onPress äº‹ä»¶å§.<br></p>
<pre><code>// omitted code

var messageList = React.createClass({
  ...,
  openChat: function (user){
  },
  renderRow: function (person){
    var time = prettyTime(person.lastMessage.timestamp);
    return (
      &lt;View&gt;
        &lt;TouchableHighlight onPress={ this.openChat.bind(this, person.user) }&gt;
          ...
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
    );
  },
  ...
});

// omitted code
</code></pre><p>ç°åœ¨æˆ‘ä»¬éœ€è¦ä¸€ä¸ª React ç»„ä»¶æ¥ä¼ é€’åˆ° navigatorã€‚è¯·åœ¨ tabs/ æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªå«åš MessageView.js çš„æ–°æ–‡ä»¶ã€‚<br></p>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);
var {
  StyleSheet,
  Text,
  View
  } = React;

var messageView = React.createClass({
  render: function(){
    return (
      &lt;View style={ styles.container }&gt;
        &lt;Text&gt;Message view!&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;
  },
});

module.exports = messageView;
</code></pre><p>æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªåŒ…å«åˆ° Messages.js æ–‡ä»¶ä¸­ï¼Œå¹¶å°†å®ƒæ”¾åˆ° navigator é‚£å„¿å»ã€‚<br></p>
<pre><code>// omitted code

var messageList = React.createClass({
  ...,
  openChat: function (user){
    this.props.navigator.push({
      title: `${user.firstName} ${user.lastName}`,
      component: MessageView,
      passProps: { user }
    });
  },
  renderRow: function (person){
    var time = prettyTime(person.lastMessage.timestamp);
    return (
      &lt;View&gt;
        &lt;TouchableHighlight onPress={ this.openChat.bind(this, person.user) }&gt;
          &lt;View&gt;
            &lt;View style={ styles.row }&gt;
              &lt;Image
                source={ { uri: person.user.picture } }
                style={ styles.cellImage }
                /&gt;
              &lt;View style={ styles.textContainer }&gt;
                &lt;Text style={ styles.name } numberOfLines={ 1 }&gt;
                  { person.user.firstName } { person.user.lastName }
                &lt;/Text&gt;
                &lt;Text style={ styles.time } numberOfLines={ 1 }&gt;
                  { time }
                &lt;/Text&gt;
                &lt;Text style={ styles.lastMessage } numberOfLines={ 1 }&gt;
                  { person.lastMessage.contents }
                &lt;/Text&gt;
              &lt;/View&gt;
            &lt;/View&gt;
            &lt;View style={ styles.cellBorder } /&gt;
          &lt;/View&gt;
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
    );
  },
  ...
});

// omitted code
</code></pre><p>ä»è¿™å„¿ä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å°†ä¸‹ä¸€ä¸ªè·¯ç”±å‹å…¥äº† navigatorã€‚åœ¨è¿™å„¿æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸‹ä¸€ä¸ªè·¯ç”±çš„æ ‡é¢˜ (ç”¨æˆ·çš„å§“å)ï¼Œæ¸²æŸ“ä»€ä¹ˆç»„ä»¶ (æˆ‘ä»¬æ–°åˆ›å»ºçš„ MessageView) ä»¥åŠä¼ å…¥ä»€ä¹ˆå±æ€§ã€‚è¿™è®©æˆ‘ä»¬å¯ä»¥è®¿é—®æˆ‘ä»¬åœ¨ MessageView ç»„ä»¶ä¸­éœ€è¦çš„ä»»ä½•ä¸œè¥¿ (æˆ‘ä»¬å‡†å¤‡ä¼ å…¥ç”¨æˆ·å¯¹è±¡)ã€‚<br><br><img src="http://static.oschina.net/uploads/img/201505/19120305_AIYQ.png" alt=""><br><br><img src="http://static.oschina.net/uploads/img/201505/19120305_0oGb.png" alt=""><br><br>è¿™å¯¹äºæˆ‘ä»¬èŠå¤©åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªéƒ½ä¼šèµ·ä½œç”¨ï¼Œä¸ç®¡å…¶æ•°é‡å¤šè¿˜æ˜¯å°‘ã€‚<br><br>ä¸è¿‡ï¼Œæ–‡æœ¬ä¼šè¢«æˆ‘ä»¬æ–°çš„æ ‡é¢˜æ¡åˆ‡æ®µã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸»è¦åœ¨ç¬¬ä¸€ä¸ª View ç»„ä»¶ä¸Šæ”¾ä¸€ä¸ªå†…è¾¹è·ï¼ˆpaddingï¼‰å°±å¯ä»¥äº†ã€‚<br><br>æˆ‘ä»¬ç°åœ¨å·²ç»æœ‰ä¸€ä¸ªç”¨æˆ·å±æ€§è¢«ä¼ è¿›æ¥äº†ï¼ŒåŒæ ·å¯ä»¥å¯¹å…¶è¿›è¡Œå±•ç¤ºï¼<br></p>
<h3 id="MessageView-js"><a href="#MessageView-js" class="headerlink" title="MessageView.js"></a>MessageView.js</h3><hr>
<pre><code>&apos;use strict&apos;;

var React = require(&apos;react-native&apos;);

var {
  StyleSheet,
  Text,
  View
  } = React;
var messageView = React.createClass({
  render: function(){
    var user = this.props.user;
    return (
      &lt;View style={ styles.container }&gt;
        &lt;Text&gt;Chat with { user.firstName } { user.lastName }&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
});

var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &apos;#fff&apos;,
    paddingTop: 64
  },
});

module.exports = messageView;
</code></pre><p><img src="http://static.oschina.net/uploads/img/201505/19120305_B0Mj.png" alt=""><br><br>ä½ å¯ä»¥åœ¨ <code>step-five</code> åˆ†æ”¯æ£€æµ‹å‡ºä¸Šé¢çš„ä»£ç ã€‚<br></p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><hr>
<p>è¯·è‡ªç”±åœ°åœ¨è®¾ç½® tab ä¸­åŠ å…¥ä¸€äº›åŠŸèƒ½ã€‚å°è¯•ä½¿ç”¨å…¶ä»–çš„ç»„ä»¶ï¼Œæ¯”å¦‚ DatePickerIOS é—è¿¹ TextInputï¼Œæ¥åšä¸€äº›é€šç”¨çš„è®¾ç½® (DOBï¼Œnameï¼Œç­‰ç­‰)ã€‚<br><br>å¸Œæœ›è¿™é‡Œçš„è®¨è®ºèƒ½è§¦åŠä¸€äº›åŒä½ åœ¨ä½ çš„ React Native åº”ç”¨ç¨‹åºä¸­é€šå¸¸ä¼šç”¨åˆ°æœ‰æ‰€ä¸åŒçš„ç»„ä»¶ã€‚å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œå¯ä»¥åœ¨æ¨ç‰¹  @rynclark ä¸Šè”ç³»æˆ‘.<br><br>è½¬è‡ªï¼š<a href="http://www.oschina.net/translate/going-native-with-react" target="_blank" rel="external">http://www.oschina.net/translate/going-native-with-react</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/React-Native/" rel="tag"># React Native</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/04/21/23/" rel="next" title="requestAnimationFrameï¼ŒWebä¸­å†™åŠ¨ç”»çš„å¦ä¸€ç§é€‰æ‹©">
                <i class="fa fa-chevron-left"></i> requestAnimationFrameï¼ŒWebä¸­å†™åŠ¨ç”»çš„å¦ä¸€ç§é€‰æ‹©
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/04/28/25/" rel="prev" title="React Nativeä¹‹è®¾ç½®IOSçš„å›¾æ ‡ï¼Œåç§°å’Œå¯åŠ¨å›¾ğŸ–">
                React Nativeä¹‹è®¾ç½®IOSçš„å›¾æ ‡ï¼Œåç§°å’Œå¯åŠ¨å›¾ğŸ– <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
    <!-- å¤šè¯´è¯„è®ºæ¡† start -->  
        <div class="ds-thread" data-thread-key="<%- page.path %>" data-title="<%- page.title %>" data-url="<%- page.permalink %>"></div>  
<!-- å¤šè¯´è¯„è®ºæ¡† end -->    
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->  
<script type="text/javascript">  
var duoshuoQuery = {short_name:"yuzhiyun"};  
    (function() {  
        var ds = document.createElement('script');  
        ds.type = 'text/javascript';ds.async = true;  
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';  
        ds.charset = 'UTF-8';  
        (document.getElementsByTagName('head')[0]   
         || document.getElementsByTagName('body')[0]).appendChild(ds);  
    })();  
    </script>  
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->  


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="menggeNIU" />
          <p class="site-author-name" itemprop="name">menggeNIU</p>
          <p class="site-description motion-element" itemprop="description">ä¸ªäººæ”¶è—</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">49</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/menggeNiu" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/1967072037" target="_blank" title="å¾®åš">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  å¾®åš
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://zjflove.github.io" title="zjf" target="_blank">zjf</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.901web.com" title="pybyongbo" target="_blank">pybyongbo</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-6"><a class="nav-link" href="#æœ€è¿‘å¼€å§‹ç ”ç©¶react-nativeï¼Œå‡†å¤‡å†™å‡ ç¯‡å…³äºreact-nativeçš„æ–‡ç« ã€‚"><span class="nav-number">1.</span> <span class="nav-text">æœ€è¿‘å¼€å§‹ç ”ç©¶react nativeï¼Œå‡†å¤‡å†™å‡ ç¯‡å…³äºreact nativeçš„æ–‡ç« ã€‚</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å›åˆ°-2004"><span class="nav-number"></span> <span class="nav-text">å›åˆ° 2004</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ›å»ºä½ çš„åº”ç”¨"><span class="nav-number"></span> <span class="nav-text">åˆ›å»ºä½ çš„åº”ç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¼‘æ–¯é¡¿ï¼Œæˆ‘ä»¬å·²ç»å‡ç©º"><span class="nav-number"></span> <span class="nav-text">ä¼‘æ–¯é¡¿ï¼Œæˆ‘ä»¬å·²ç»å‡ç©º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‰“å¼€å®ƒ"><span class="nav-number"></span> <span class="nav-text">æ‰“å¼€å®ƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‚„æ‚„æ¥çœ‹ä¸€çœ‹"><span class="nav-number"></span> <span class="nav-text">æ‚„æ‚„æ¥çœ‹ä¸€çœ‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#React-Native-vs-æµè§ˆå™¨"><span class="nav-number"></span> <span class="nav-text">React Native vs æµè§ˆå™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¼€å§‹å·¥ä½œ"><span class="nav-number"></span> <span class="nav-text">å¼€å§‹å·¥ä½œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨é™æ€å›¾ç‰‡"><span class="nav-number"></span> <span class="nav-text">ä½¿ç”¨é™æ€å›¾ç‰‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å›åˆ°ä»£ç "><span class="nav-number"></span> <span class="nav-text">å›åˆ°ä»£ç </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è®©æˆ‘ä»¬æ‰“åˆ†å§"><span class="nav-number"></span> <span class="nav-text">è®©æˆ‘ä»¬æ‰“åˆ†å§</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#index-ios-js"><span class="nav-number"></span> <span class="nav-text">index.ios.js</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å±•ç¤ºå¤–éƒ¨çš„å›¾ç‰‡"><span class="nav-number"></span> <span class="nav-text">å±•ç¤ºå¤–éƒ¨çš„å›¾ç‰‡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ‰‹æŒ‡è§¦å‡»"><span class="nav-number"></span> <span class="nav-text">æ‰‹æŒ‡è§¦å‡»</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¶ˆæ¯"><span class="nav-number"></span> <span class="nav-text">æ¶ˆæ¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æŒ‰ä¸‹å’Œå¼¹å‡º"><span class="nav-number"></span> <span class="nav-text">æŒ‰ä¸‹å’Œå¼¹å‡º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MessageView-js"><span class="nav-number"></span> <span class="nav-text">MessageView.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ€»ç»“"><span class="nav-number"></span> <span class="nav-text">æ€»ç»“</span></a></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">menggeNIU</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"nnnmg"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js?v=5.1.0"></script>
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("elhh73EjPvJjogo27rOTNyxB-gzGzoHsz", "ICYhjaCGuWcsPbm8nPit7Gkh");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


</body>
</html>
